{% sw_extends '@Storefront/storefront/component/listing/filter-panel.html.twig' %}

{% block component_filter_panel %}


    {% if controllerName == 'Search' %}

        {% if page.sisi_manufactories|length > 0 %}
            {% sw_include '@Storefront/storefront/component/listing/filter/sisifilter-multi-select.html.twig' with {
                elements: page.sisi_manufactories,
                sidebar: sidebar,
                name: 'manufacturer',
                displayName: 'listing.filterManufacturerDisplayName'|trans|sw_sanitize
            } %}
        {% endif %}

        {% for properties in page.sisi_properties %}

            {% for property in properties %}
                {% sw_include '@Storefront/storefront/component/listing/filter/sisifilter-property-select.html.twig' with {
                    elements: property.options,
                    sidebar: sidebar,
                    name: 'properties',
                    displayName: property.name,
                    displayType: property.displayType ,
                    pluginSelector: 'filter-property-select',
                    propertyName: property.translated.name
                } %}
            {% endfor %}
        {% endfor %}
        {{ parent() }}
    {% else %}
        {{ parent() }}
    {% endif %}
{% endblock %}

