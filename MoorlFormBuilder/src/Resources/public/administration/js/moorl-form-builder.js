!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/bundles/moorlformbuilder/",o(o.s="Ofih")}({"0e/N":function(e,t,o){var r=o("djj4");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,o("SZ7m").default)("33b4b47e",r,!0,{})},"6D8g":function(e,t,o){},"6m5T":function(e,t,o){},Ofih:function(e,t,o){"use strict";o.r(t);o("sSkC");Shopware.Component.register("moorl-fb2-hint",{template:'<sw-modal\r\n        class="moorl-fb2-hint"\r\n        v-if="open"\r\n        :title="$tc(\'moorl-fb2-hint.modal.title\')"\r\n        :closable="false">\r\n    <p>{{ $tc(\'moorl-fb2-hint.notifications.p1\') }}</p>\r\n    <p>{{ $tc(\'moorl-fb2-hint.notifications.p2\') }}</p>\r\n    <p>{{ $tc(\'moorl-fb2-hint.notifications.p3\') }}</p>\r\n    <p>{{ $tc(\'moorl-fb2-hint.notifications.p4\') }}</p>\r\n    <p>{{ $tc(\'moorl-fb2-hint.notifications.p5\') }}</p>\r\n    <p>{{ $tc(\'moorl-fb2-hint.notifications.p6\') }}</p>\r\n\r\n    <p>{{ $tc(\'moorl-fb2-hint.modal.more\') }}</p>\r\n\r\n    <div class="button-group">\r\n        <a class="sw-button" :href="$tc(\'moorl-fb2-hint.modal.docsLink\')" target="_blank" rel="noopener">\r\n            {{ $tc(\'moorl-fb2-hint.modal.docs\') }}\r\n        </a>\r\n        <a class="sw-button" :href="$tc(\'moorl-fb2-hint.modal.storeLink\')" target="_blank" rel="noopener">\r\n            {{ $tc(\'moorl-fb2-hint.modal.store\') }}\r\n        </a>\r\n        <a class="sw-button" :href="$tc(\'moorl-fb2-hint.modal.demoLink\')" target="_blank" rel="noopener">\r\n            {{ $tc(\'moorl-fb2-hint.modal.demo\') }}\r\n        </a>\r\n    </div>\r\n\r\n    <template slot="modal-footer">\r\n        <sw-button @click="open = false">\r\n            {{ $tc(\'moorl-fb2-hint.modal.close\') }}\r\n        </sw-button>\r\n    </template>\r\n</sw-modal>\r\n',data:function(){return{open:!1}},created:function(){this.createdComponent()},methods:{createdComponent:function(){localStorage.getItem("fb2-hint-seen")||(this.open=!0,localStorage.setItem("fb2-hint-seen","true"))}}});function r(e,t,o,r,n,l,i){try{var a=e[l](i),s=a.value}catch(e){return void o(e)}a.done?t(s):Promise.resolve(s).then(r,n)}function n(e){return function(){var t=this,o=arguments;return new Promise((function(n,l){var i=e.apply(t,o);function a(e){r(i,n,l,a,s,"next",e)}function s(e){r(i,n,l,a,s,"throw",e)}a(void 0)}))}}var l=Shopware,i=l.Component,a=l.Mixin,s=Shopware.Data.Criteria;i.register("moorl-form-builder-appointment",{template:'<sw-entity-listing\r\n        sort-by="start"\r\n        sort-direction="ASC"\r\n        :repository="repository"\r\n        :items="items"\r\n        :columns="columns"\r\n        :show-selection="false"\r\n        :allow-column-edit="false"\r\n        :full-page="false"\r\n>\r\n    <template slot="column-start" slot-scope="{ item }">\r\n        {{ item.start | date({\r\n            hour: \'2-digit\',\r\n            minute: \'2-digit\'\r\n        }) }}\r\n    </template>\r\n\r\n    <template slot="column-customer.lastName" slot-scope="{ item }">\r\n        <router-link\r\n                v-if="item.customer"\r\n                :to="{ name: \'sw.customer.detail\', params: { id: item.customerId } }"\r\n                class="sw-data-grid__cell-value"\r\n        >\r\n            {{ item.customer.lastName }}\r\n        </router-link>\r\n    </template>\r\n\r\n    <template slot="column-order.orderNumber" slot-scope="{ item }">\r\n        <router-link\r\n                v-if="item.order"\r\n                :to="{ name: \'sw.order.detail\', params: { id: item.orderId } }"\r\n                class="sw-data-grid__cell-value"\r\n        >\r\n            {{ item.order.orderNumber }}\r\n        </router-link>\r\n    </template>\r\n\r\n    <template slot="column-product.name" slot-scope="{ item }">\r\n        <router-link\r\n                v-if="item.product"\r\n                :to="{ name: \'sw.product.detail\', params: { id: item.productId } }"\r\n                class="sw-data-grid__cell-value"\r\n        >\r\n            {{ item.product.name }}\r\n        </router-link>\r\n    </template>\r\n\r\n    <template slot="column-form.name" slot-scope="{ item }">\r\n        <router-link\r\n                v-if="item.form"\r\n                :to="{ name: \'moorl.form.builder.detail\', params: { id: item.formId } }"\r\n                class="sw-data-grid__cell-value"\r\n        >\r\n            {{ item.form.name }}\r\n        </router-link>\r\n    </template>\r\n</sw-entity-listing>\r\n',inject:["repositoryFactory"],mixins:[a.getByName("notification"),a.getByName("placeholder")],props:{productId:{type:String,required:!1,default:null}},data:function(){return{items:[],isLoading:!0,locale:null}},computed:{repository:function(){return this.repositoryFactory.create("moorl_form_appointment")},languageRepository:function(){return this.repositoryFactory.create("language")},columns:function(){return[{property:"active",label:this.$tc("moorl-form-builder.properties.active"),inlineEdit:"boolean",align:"center",width:"50px",allowResize:!0},{property:"start",label:this.$tc("moorl-form-builder.properties.start"),routerLink:"moorl.form.builder.detail",width:"100px",primary:!0,allowResize:!0},{property:"customer.lastName",label:this.$tc("moorl-form-builder.properties.customer"),allowResize:!0},{property:"order.orderNumber",label:this.$tc("moorl-form-builder.properties.order"),allowResize:!0},{property:"product.name",label:this.$tc("moorl-form-builder.properties.product"),allowResize:!0},{property:"form.name",label:this.$tc("moorl-form-builder.properties.form"),allowResize:!0}]},today:function(){var e=new Date;return e.setHours(0,0,0,0),e.toISOString()},defaultCriteria:function(){var e=new s;return e.addAssociation("form").addAssociation("order").addAssociation("product").addAssociation("customer"),e.addSorting(s.sort("start","ASC")),e.addFilter(s.range("start",{gte:this.today})),this.productId&&e.addFilter(s.equals("productId",this.productId)),e}},created:function(){this.createdComponent()},methods:{createdComponent:function(){var e=this;return n(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(o=new s).addAssociation("locale"),e.languageRepository.get(Shopware.Context.api.languageId,Shopware.Context.api,o).then((function(t){e.locale=t.locale})),t.next=5,e.getList();case 5:case"end":return t.stop()}}),t)})))()},getList:function(){var e=this;return n(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.prev=1,t.next=4,e.repository.search(e.defaultCriteria,Shopware.Context.api);case 4:o=t.sent,e.total=o.total,e.tax=o,e.isLoading=!1,e.items=o,e.selection={},t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),e.isLoading=!1;case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))()}}});Shopware.Component.register("moorl-form-element-settings",{template:'<div class="moorl-form-element-settings">\r\n    <moorl-collapse :label="$tc(\'moorl-form-builder.general.elementSettings\')"\r\n                    :expandOnLoading="true"\r\n                    key="elementSettings">\r\n        <template #content>\r\n            <sw-select-field :label="$tc(\'moorl-form-builder.properties.type\')"\r\n                             ref="selectFieldType"\r\n                             v-model="formElement.type">\r\n                {% block el_type %}\r\n                    <optgroup :label="$tc(\'moorl-form-builder.elementOptions.group.input\')">\r\n                        <option value="text">{{ $tc(\'moorl-form-builder.elementOptions.type.text\') }}</option>\r\n                        <option value="email">{{ $tc(\'moorl-form-builder.elementOptions.type.email\') }}</option>\r\n                        <option value="textarea">{{ $tc(\'moorl-form-builder.elementOptions.type.textarea\') }}</option>\r\n                        <option value="select">{{ $tc(\'moorl-form-builder.elementOptions.type.select\') }}</option>\r\n                        <option value="multiselect">{{ $tc(\'moorl-form-builder.elementOptions.type.multiselect\') }}</option>\r\n                        <option value="switch">{{ $tc(\'moorl-form-builder.elementOptions.type.switch\') }}</option>\r\n                        <option value="checkbox">{{ $tc(\'moorl-form-builder.elementOptions.type.checkbox\') }}</option>\r\n                        <option value="checkbox-group">{{ $tc(\'moorl-form-builder.elementOptions.type.checkbox-group\') }}</option>\r\n                        <option value="radio-group">{{ $tc(\'moorl-form-builder.elementOptions.type.radio-group\') }}</option>\r\n                        <option value="upload">{{ $tc(\'moorl-form-builder.elementOptions.type.upload\') }}</option>\r\n                        <option value="datepicker">{{ $tc(\'moorl-form-builder.elementOptions.type.datepicker\') }}</option>\r\n                        <option value="timepicker">{{ $tc(\'moorl-form-builder.elementOptions.type.timepicker\') }}</option>\r\n                        <option value="password">{{ $tc(\'moorl-form-builder.elementOptions.type.password\') }}</option>\r\n                        <option value="number">{{ $tc(\'moorl-form-builder.elementOptions.type.number\') }}</option>\r\n                        <option value="range">{{ $tc(\'moorl-form-builder.elementOptions.type.range\') }}</option>\r\n                        <option value="rating">{{ $tc(\'moorl-form-builder.elementOptions.type.rating\') }}</option>\r\n                        <option value="tax-id-number">{{ $tc(\'moorl-form-builder.elementOptions.type.tax-id-number\') }}</option>\r\n                        <option value="appointment">{{ $tc(\'moorl-form-builder.elementOptions.type.appointment\') }}</option>\r\n                    </optgroup>\r\n                    <optgroup :label="$tc(\'moorl-form-builder.elementOptions.group.technical\')">\r\n                        <option value="hidden">{{ $tc(\'moorl-form-builder.elementOptions.type.hidden\') }}</option>\r\n                        <option value="html">{{ $tc(\'moorl-form-builder.elementOptions.type.html\') }}</option>\r\n                        <option value="section-open">{{ $tc(\'moorl-form-builder.elementOptions.type.section-open\') }}</option>\r\n                        <option value="section-close">{{ $tc(\'moorl-form-builder.elementOptions.type.section-close\') }}</option>\r\n                        <option value="repeater-open">{{ $tc(\'moorl-form-builder.elementOptions.type.repeater-open\') }}</option>\r\n                        <option value="repeater-close">{{ $tc(\'moorl-form-builder.elementOptions.type.repeater-close\') }}</option>\r\n                    </optgroup>\r\n                    <optgroup :label="$tc(\'moorl-form-builder.elementOptions.group.bootstrapFive\')">\r\n                        <option value="checkbox-button-group">{{ $tc(\'moorl-form-builder.elementOptions.type.checkbox-button-group\') }}</option>\r\n                        <option value="radio-button-group">{{ $tc(\'moorl-form-builder.elementOptions.type.radio-button-group\') }}</option>\r\n                    </optgroup>\r\n                    <optgroup :label="$tc(\'moorl-form-builder.elementOptions.group.notAvailable\')">\r\n                        <option value="colorpicker" {% block el_type_colorpicker %}disabled{% endblock %}>{{ $tc(\'moorl-form-builder.elementOptions.type.colorpicker\') }}</option>\r\n                        <option value="dropzone" {% block el_type_dropzone %}disabled{% endblock %}>{{ $tc(\'moorl-form-builder.elementOptions.type.dropzone\') }}</option>\r\n                    </optgroup>\r\n                {% endblock %}\r\n            </sw-select-field>\r\n            <sw-field :placeholder="$tc(\'moorl-form-builder.properties.name\')"\r\n                      :label="$tc(\'moorl-form-builder.properties.technicalName\')"\r\n                      :helpText="$tc(\'moorl-form-builder.tooltips.technicalName\')"\r\n                      v-model="formElement.name"></sw-field>\r\n        </template>\r\n    </moorl-collapse>\r\n</div>\r\n',props:{formElement:{type:Object,required:!0}},computed:{},created:function(){this.createdComponent()},methods:{createdComponent:function(){}}});Shopware.Component.register("moorl-form-element-input-default",{template:'<div class="moorl-form-element-input-default">\r\n    <moorl-collapse :label="$tc(\'moorl-form-builder.general.elementInput\')"\r\n                    key="elementInput">\r\n        <template #content>\r\n            <sw-field :label="$tc(\'moorl-form-builder.properties.label\')"\r\n                      v-model="formElement.label[locale.code]"></sw-field>\r\n            <sw-field :placeholder="$tc(\'moorl-form-builder.properties.placeholder\')"\r\n                      :label="$tc(\'moorl-form-builder.properties.placeholder\')"\r\n                      v-model="formElement.placeholder[locale.code]"></sw-field>\r\n            <sw-field :placeholder="$tc(\'moorl-form-builder.properties.defaultValue\')"\r\n                      :label="$tc(\'moorl-form-builder.properties.defaultValue\')"\r\n                      :helpText="$tc(\'moorl-form-builder.tooltips.defaultValue\')"\r\n                      v-model="formElement.defaultValue[locale.code]"></sw-field>\r\n            <sw-field :placeholder="$tc(\'moorl-form-builder.properties.prepend\')"\r\n                      :label="$tc(\'moorl-form-builder.properties.prepend\')"\r\n                      v-model="formElement.prepend[locale.code]"></sw-field>\r\n            <sw-field :placeholder="$tc(\'moorl-form-builder.properties.append\')"\r\n                      :label="$tc(\'moorl-form-builder.properties.append\')"\r\n                      v-model="formElement.append[locale.code]"></sw-field>\r\n            <sw-field :placeholder="$tc(\'moorl-form-builder.properties.pattern\')"\r\n                      :label="$tc(\'moorl-form-builder.properties.pattern\')"\r\n                      v-model="formElement.pattern"></sw-field>\r\n            <sw-field :placeholder="$tc(\'moorl-form-builder.properties.tooltip\')"\r\n                      :label="$tc(\'moorl-form-builder.properties.tooltip\')"\r\n                      :helpText="$tc(\'moorl-form-builder.tooltips.tooltip\')"\r\n                      v-model="formElement.tooltip[locale.code]"></sw-field>\r\n            <sw-field type="switch"\r\n                      bordered\r\n                      :label="$tc(\'moorl-form-builder.properties.required\')"\r\n                      v-model="formElement.required"></sw-field>\r\n            <sw-field type="switch"\r\n                      bordered\r\n                      :label="$tc(\'moorl-form-builder.properties.disabled\')"\r\n                      v-model="formElement.disabled"></sw-field>\r\n            <sw-field type="switch"\r\n                      bordered\r\n                      :label="$tc(\'moorl-form-builder.properties.useBlacklist\')"\r\n                      v-model="formElement.useBlacklist"></sw-field>\r\n        </template>\r\n    </moorl-collapse>\r\n</div>\r\n',props:{formElement:{type:Object,required:!0},locale:{type:Object,required:!0}},computed:{},created:function(){this.createdComponent()},methods:{createdComponent:function(){}}});Shopware.Component.register("moorl-form-element-input-html",{template:'<div class="moorl-form-element-input-html">\r\n    <moorl-collapse class="content--single"\r\n                    :label="$tc(\'moorl-form-builder.general.elementInput\')"\r\n                    key="elementInput">\r\n        <template #content>\r\n            <sw-code-editor :label="$tc(\'moorl-form-builder.properties.html\')"\r\n                            v-model="formElement.html"\r\n                            :softWraps="false"></sw-code-editor>\r\n            <sw-field type="switch"\r\n                      bordered\r\n                      :label="$tc(\'moorl-form-builder.properties.noWrap\')"\r\n                      v-model="formElement.noWrap"></sw-field>\r\n        </template>\r\n    </moorl-collapse>\r\n</div>\r\n',props:{formElement:{type:Object,required:!0},locale:{type:Object,required:!0}},computed:{},created:function(){this.createdComponent()},methods:{createdComponent:function(){}}});Shopware.Component.register("moorl-form-element-input-repeater-open",{template:'<div class="moorl-form-element-input-repeater-open">\r\n    <moorl-collapse class="content--single"\r\n                    :label="$tc(\'moorl-form-builder.general.elementInput\')"\r\n                    key="elementInput">\r\n        <template #content>\r\n            <sw-field :label="$tc(\'moorl-form-builder.properties.label\')"\r\n                      v-model="formElement.label[locale.code]"></sw-field>\r\n            <sw-number-field :label="$tc(\'moorl-form-builder.properties.numberMin\')"\r\n                             v-model="formElement.numberMin"></sw-number-field>\r\n            <sw-number-field :label="$tc(\'moorl-form-builder.properties.numberMax\')"\r\n                             v-model="formElement.numberMax"></sw-number-field>\r\n            <sw-field :placeholder="$tc(\'moorl-form-builder.properties.tooltip\')"\r\n                      :label="$tc(\'moorl-form-builder.properties.tooltip\')"\r\n                      :helpText="$tc(\'moorl-form-builder.tooltips.tooltip\')"\r\n                      v-model="formElement.tooltip[locale.code]"></sw-field>\r\n            <sw-field :placeholder="$tc(\'moorl-form-builder.properties.cssClass\')"\r\n                      :label="$tc(\'moorl-form-builder.properties.cssClass\')"\r\n                      :helpText="$tc(\'moorl-form-builder.tooltips.cssClass\')"\r\n                      v-model="formElement.cssClass"></sw-field>\r\n            <sw-field :placeholder="$tc(\'moorl-form-builder.properties.cssId\')"\r\n                      :label="$tc(\'moorl-form-builder.properties.cssId\')"\r\n                      :helpText="$tc(\'moorl-form-builder.tooltips.cssId\')"\r\n                      v-model="formElement.cssId"></sw-field>\r\n            <sw-code-editor :label="$tc(\'moorl-form-builder.properties.html\')"\r\n                            v-model="formElement.html"\r\n                            :softWraps="false"></sw-code-editor>\r\n        </template>\r\n    </moorl-collapse>\r\n</div>\r\n',props:{formElement:{type:Object,required:!0},locale:{type:Object,required:!0}},computed:{},created:function(){this.createdComponent()},methods:{createdComponent:function(){}}});Shopware.Component.register("moorl-form-element-input-section-open",{template:'<div class="moorl-form-element-input-section-open">\r\n    <moorl-collapse class="content--single"\r\n                    :label="$tc(\'moorl-form-builder.general.elementInput\')"\r\n                    key="elementInput">\r\n        <template #content>\r\n            <sw-field :placeholder="$tc(\'moorl-form-builder.properties.cssClass\')"\r\n                      :label="$tc(\'moorl-form-builder.properties.cssClass\')"\r\n                      :helpText="$tc(\'moorl-form-builder.tooltips.cssClass\')"\r\n                      v-model="formElement.cssClass"></sw-field>\r\n            <sw-field :placeholder="$tc(\'moorl-form-builder.properties.cssId\')"\r\n                      :label="$tc(\'moorl-form-builder.properties.cssId\')"\r\n                      :helpText="$tc(\'moorl-form-builder.tooltips.cssId\')"\r\n                      v-model="formElement.cssId"></sw-field>\r\n            <sw-code-editor :label="$tc(\'moorl-form-builder.properties.html\')"\r\n                            v-model="formElement.html"\r\n                            :softWraps="false">\r\n            </sw-code-editor>\r\n        </template>\r\n    </moorl-collapse>\r\n</div>\r\n',props:{formElement:{type:Object,required:!0},locale:{type:Object,required:!0}},computed:{},created:function(){this.createdComponent()},methods:{createdComponent:function(){}}});Shopware.Component.register("moorl-form-element-upload-options",{template:'<div class="moorl-form-element-upload-options">\r\n    <moorl-collapse :label="$tc(\'moorl-form-builder.general.uploadOptions\')"\r\n                    key="uploadOptions">\r\n        <template #content>\r\n            <sw-select-field :label="$tc(\'moorl-form-builder.properties.mediaType\')"\r\n                             :helpText="$tc(\'moorl-form-builder.tooltips.mediaType\')"\r\n                             v-model="formElement.mediaType">\r\n                <option value="images_documents">{{ $tc(\'moorl-form-builder.elementOptions.mediaType.imagesDocuments\') }}</option>\r\n                <option value="images">{{ $tc(\'moorl-form-builder.elementOptions.mediaType.images\') }}</option>\r\n                <option value="documents">{{ $tc(\'moorl-form-builder.elementOptions.mediaType.documents\') }}</option>\r\n                <option value="all">{{ $tc(\'moorl-form-builder.elementOptions.mediaType.all\') }}</option>\r\n                <option value="custom">{{ $tc(\'moorl-form-builder.elementOptions.mediaType.custom\') }}</option>\r\n            </sw-select-field>\r\n\r\n            <sw-field v-if="formElement.mediaType === \'custom\'"\r\n                      :placeholder="$tc(\'moorl-form-builder.properties.mediaFileExtensions\')"\r\n                      :label="$tc(\'moorl-form-builder.properties.mediaFileExtensions\')"\r\n                      :helpText="$tc(\'moorl-form-builder.tooltips.mediaFileExtensions\')"\r\n                      v-model="formElement.mediaFileExtensions"></sw-field>\r\n        </template>\r\n    </moorl-collapse>\r\n</div>\r\n',props:{formElement:{type:Object,required:!0},locale:{type:Object,required:!0}},computed:{},created:function(){this.createdComponent()},methods:{createdComponent:function(){}}});Shopware.Component.register("moorl-form-element-entity-mapping",{template:'<div class="moorl-form-element-entity-mapping">\r\n    <moorl-collapse class="content--single"\r\n                    :label="$tc(\'moorl-form-builder.general.elementEntity\')"\r\n                    key="elementEntity">\r\n        <template #content>\r\n            <sw-single-select v-model="formElement.mapping"\r\n                              valueProperty="name"\r\n                              labelProperty="name"\r\n                              show-clearable-button\r\n                              :options="options"\r\n                              :placeholder="$tc(\'sw-seo-url-template-card.general.placeholderSelectVariables\')"\r\n                              :disabled="disabled"\r\n                              :label="$tc(\'sw-seo-url-template-card.general.labelPossibleValues\')">\r\n            </sw-single-select>\r\n            <sw-field type="switch"\r\n                      bordered\r\n                      :label="$tc(\'moorl-form-builder.properties.isUnique\')"\r\n                      :helpText="$tc(\'moorl-form-builder.tooltips.isUnique\')"\r\n                      v-model="formElement.isUnique"></sw-field>\r\n        </template>\r\n    </moorl-collapse>\r\n</div>\r\n',props:{formElement:{type:Object,required:!0},options:{type:Array,required:!0},disabled:{type:Boolean,required:!0}},computed:{},created:function(){this.createdComponent()},methods:{createdComponent:function(){}}});Shopware.Component.register("moorl-form-element-options-number",{template:'<div class="moorl-form-element-options-number">\r\n    <moorl-collapse :label="$tc(\'moorl-form-builder.general.elementOptions\')"\r\n                    key="elementOptions">\r\n        <template #content>\r\n            <sw-number-field :label="$tc(\'moorl-form-builder.properties.numberMin\')"\r\n                             v-model="formElement.numberMin"></sw-number-field>\r\n            <sw-number-field :label="$tc(\'moorl-form-builder.properties.numberMax\')"\r\n                             v-model="formElement.numberMax"></sw-number-field>\r\n            <sw-number-field :label="$tc(\'moorl-form-builder.properties.numberStep\')"\r\n                             v-model="formElement.numberStep"></sw-number-field>\r\n        </template>\r\n    </moorl-collapse>\r\n</div>\r\n',props:{formElement:{type:Object,required:!0},locale:{type:Object,required:!0}},computed:{},created:function(){this.createdComponent()},methods:{createdComponent:function(){}}});function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==o)return;var r,n,l=[],i=!0,a=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(e){a=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(a)throw n}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}var d=Shopware.Component,p=Shopware.Utils.object;p.merge,p.cloneDeep;d.register("moorl-form-element-options-date",{template:'<div class="moorl-form-element-options-date">\r\n    <moorl-collapse\r\n            :label="$tc(\'moorl-form-builder.general.elementOptions\')"\r\n            key="elementOptions">\r\n        <template #content>\r\n            <sw-field\r\n                    :label="$tc(\'moorl-form-builder.properties.dateMin\')"\r\n                    :helpText="$tc(\'moorl-form-builder.tooltips.dateMin\')"\r\n                    v-model="formElement.dateMin"\r\n            />\r\n\r\n            <sw-field\r\n                    :label="$tc(\'moorl-form-builder.properties.dateMax\')"\r\n                    :helpText="$tc(\'moorl-form-builder.tooltips.dateMax\')"\r\n                    v-model="formElement.dateMax"\r\n            />\r\n\r\n            <sw-number-field\r\n                    :label="$tc(\'moorl-form-builder.properties.dateStep\')"\r\n                    v-model="formElement.dateStep"\r\n            />\r\n\r\n            <sw-number-field\r\n                    :label="$tc(\'moorl-form-builder.properties.timeMin\')"\r\n                    v-model="formElement.timeMin"\r\n            />\r\n\r\n            <sw-number-field\r\n                    :label="$tc(\'moorl-form-builder.properties.timeMax\')"\r\n                    v-model="formElement.timeMax"\r\n            />\r\n\r\n            <sw-number-field\r\n                    :label="$tc(\'moorl-form-builder.properties.timeStep\')"\r\n                    v-model="formElement.timeStep"\r\n            />\r\n\r\n            <sw-multi-select\r\n                    :label="$tc(\'moorl-form-builder.properties.dateExclude\')"\r\n                    :options="weekdays"\r\n                    v-model="formElement.dateExclude"\r\n            />\r\n        </template>\r\n    </moorl-collapse>\r\n</div>\r\n',props:{formElement:{type:Object,required:!0},locale:{type:Object,required:!0}},computed:{weekdays:function(){return[{value:6,label:this.$tc("moorl-foundation.days.saturday")},{value:0,label:this.$tc("moorl-foundation.days.sunday")},{value:1,label:this.$tc("moorl-foundation.days.monday")},{value:2,label:this.$tc("moorl-foundation.days.tuesday")},{value:3,label:this.$tc("moorl-foundation.days.wednesday")},{value:4,label:this.$tc("moorl-foundation.days.thursday")},{value:5,label:this.$tc("moorl-foundation.days.friday")}]},defaultProperties:function(){return{dateMin:"+3 days",dateMax:"+6 months",dateStep:1,dateExclude:[6,0],timeMin:8,timeMax:16,timeStep:120}}},created:function(){this.createdComponent()},methods:{createdComponent:function(){for(var e=0,t=Object.entries(this.defaultProperties);e<t.length;e++){var o=m(t[e],2),r=o[0],n=o[1];this.formElement[r]||this.$set(this.formElement,r,n)}}}});function u(e,t,o,r,n,l,i){try{var a=e[l](i),s=a.value}catch(e){return void o(e)}a.done?t(s):Promise.resolve(s).then(r,n)}function f(e){return function(){var t=this,o=arguments;return new Promise((function(r,n){var l=e.apply(t,o);function i(e){u(l,r,n,i,a,"next",e)}function a(e){u(l,r,n,i,a,"throw",e)}i(void 0)}))}}var b=Shopware,h=b.Component,v=b.Mixin,w=Shopware.Data.Criteria;h.register("moorl-form-builder-list",{template:'<sw-page class="moorl-form-builder-list">\n    <template slot="language-switch">\n        <sw-language-switch @on-change="onChangeLanguage"></sw-language-switch>\n    </template>\n\n    <sw-sidebar slot="sidebar">\n        <sw-sidebar-item icon="default-action-cloud-upload"\n                         :title="$t(\'moorl-form-builder.buttons.importButtonText\')"\n                         @click="onClickUpload"></sw-sidebar-item>\n        <form style="display: none;" ref="fileForm">\n            <input class="sw-plugin-file-upload__file-input"\n                   type="file"\n                   id="files"\n                   ref="fileInput"\n                   @change="onFileInputChange"/>\n        </form>\n    </sw-sidebar>\n\n    <template slot="smart-bar-actions">\n        <sw-button variant="primary" :routerLink="{ name: \'moorl.form.builder.create\' }">\n            {{ $t(\'moorl-form-builder.buttons.addEntryText\') }}\n        </sw-button>\n    </template>\n\n    <template slot="content">\n        <sw-entity-listing\n                :items="items"\n                :repository="repository"\n                :showSelection="false"\n                :columns="columns"\n                :isLoading="isLoading"\n                detailRoute="moorl.form.builder.detail"\n                @select-item="updateSelection"\n                @update-records="updateTotal">\n            <template #column-label="{ item }">\n                {{ item.label[locale.code] }}\n            </template>\n\n            <template #column-type="{ item }">\n                {{ $tc(\'moorl-form-builder.options.type.\' + item.type) }}\n            </template>\n\n            <template #more-actions="{ item }">\n                <sw-context-menu-item @click="onDuplicate(item)">\n                    {{ $tc(\'sw-product.list.buttonDuplicate\') }}\n                </sw-context-menu-item>\n                <sw-context-menu-item @click="onClickDownload(item)">\n                    Download\n                </sw-context-menu-item>\n            </template>\n        </sw-entity-listing>\n    </template>\n</sw-page>\n',inject:["repositoryFactory","numberRangeService"],mixins:[v.getByName("notification"),v.getByName("listing"),v.getByName("placeholder")],data:function(){return{detailRoute:"moorl.form.builder.detail",items:null,sortBy:"name",showImportModal:!1,isLoading:!0,selectedFile:null,isImporting:!1,locale:null,naturalSorting:!0,sortDirection:"DESC",showDeleteModal:!1,filterLoading:!1,filterCriteria:[]}},metaInfo:function(){return{title:this.$createTitle()}},computed:{repository:function(){return this.repositoryFactory.create("moorl_form")},mediaRepository:function(){return this.repositoryFactory.create("media")},languageRepository:function(){return this.repositoryFactory.create("language")},columns:function(){return[{property:"active",dataIndex:"active",label:this.$t("moorl-form-builder.properties.active"),inlineEdit:"boolean",align:"center",width:"50px"},{property:"name",dataIndex:"name",label:this.$t("moorl-form-builder.properties.name"),routerLink:"moorl.form.builder.detail",inlineEdit:"string",allowResize:!0,primary:!0},{property:"label",dataIndex:"label",label:this.$t("moorl-form-builder.properties.label"),routerLink:"moorl.form.builder.detail",allowResize:!0},{property:"type",dataIndex:"type",label:this.$t("moorl-form-builder.properties.type"),allowResize:!0}]},defaultCriteria:function(){var e=this,t=new w(this.page,this.limit);return this.naturalSorting="name"===this.sortBy,t.setTerm(this.term),this.sortBy.split(",").forEach((function(o){t.addSorting(w.sort(o,e.sortDirection,e.naturalSorting))})),this.filterCriteria.forEach((function(e){t.addFilter(e)})),t}},created:function(){this.onChangeLanguage()},methods:{onChangeLanguage:function(){var e=this,t=new w;t.addAssociation("locale"),this.languageRepository.get(Shopware.Context.api.languageId,Shopware.Context.api,t).then((function(t){e.locale=t.locale}))},getFormById:function(e){var t=this;return f(regeneratorRuntime.mark((function o(){var r,n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return(r=new w).addFilter(w.equals("id",e)),n=null,o.next=5,t.repository.search(r,Shopware.Context.api).then((function(e){n=e.first()}));case 5:return o.abrupt("return",n||null);case 6:case"end":return o.stop()}}),o)})))()},getList:function(){var e=this;return f(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.prev=1,t.next=4,e.repository.search(e.defaultCriteria,Shopware.Context.api);case 4:o=t.sent,e.total=o.total,e.tax=o,e.isLoading=!1,e.items=o,e.selection={},t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),e.isLoading=!1;case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))()},updateSelection:function(){},updateTotal:function(e){var t=e.total;this.total=t},onClickUpload:function(){this.$refs.fileInput.click()},onFileInputChange:function(){var e=new FileReader;e.onload=this.onReaderLoad,e.readAsText(this.$refs.fileInput.files[0])},onReaderLoad:function(e){var t=this;return f(regeneratorRuntime.mark((function o(){var r,n,l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r=JSON.parse(e.target.result),o.next=3,t.getFormById(r.id);case 3:(n=o.sent)?(Object.assign(n,r),t.repository.save(n,Shopware.Context.api).then((function(){console.log("form updated"),t.getList()}))):(l=t.repository.create(Shopware.Context.api),r.id=l.id,Object.assign(l,r),t.repository.save(l,Shopware.Context.api).then((function(){console.log("form created"),t.getList()}))),console.log(r);case 6:case"end":return o.stop()}}),o)})))()},onClickDownload:function(e){var t=JSON.stringify(e),o=document.createElement("a");o.href="data:attachment/json,"+encodeURIComponent(t),o.target="_blank",o.download=e.name+".json",document.body.appendChild(o),o.click()},onDuplicate:function(e){var t=this;this.repository.clone(e.id,Shopware.Context.api,{name:"".concat(e.name," ").concat(this.$tc("sw-product.general.copy")),createdAt:null,locked:!1}).then((function(e){t.$router.push({name:"moorl.form.builder.detail",params:{id:e.id}})}))}}});var g=o("xUFS");o("Qstz");function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==o)return;var r,n,l=[],i=!0,a=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(e){a=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(a)throw n}}return l}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return x(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function k(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?S(Object(o),!0).forEach((function(t){I(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):S(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function I(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var F=Shopware,O=F.Component,T=F.Mixin,M=Shopware.Data.Criteria,L=Shopware.Component.getComponentHelper().mapPageErrors,_=Shopware.Utils;O.register("moorl-form-builder-detail",{template:'<sw-page class="moorl-form-builder-detail">\n    <template slot="language-switch">\n        <sw-language-switch @on-change="onChangeLanguage"></sw-language-switch>\n    </template>\n\n    <template slot="smart-bar-actions">\n        <sw-button :routerLink="{ name: \'moorl.form.builder.list\' }">\n            {{ $tc(\'moorl-form-builder.buttons.cancelButtonText\') }}\n        </sw-button>\n\n        <sw-button-process\n            :isLoading="isLoading"\n            :processSuccess="processSuccess"\n            variant="primary"\n            @process-finish="saveFinish"\n            @click="onClickSave">\n            {{ $tc(\'moorl-form-builder.buttons.saveButtonText\') }}\n        </sw-button-process>\n    </template>\n\n    <template slot="content" v-if="!isLoading && locale">\n        <div class="moorl-form-builder-detail-general">\n            {% block form %}\n                <moorl-collapse :label="$tc(\'moorl-form-builder.general.generalSettings\')"\n                                :expandOnLoading="true"\n                                key="generalSettings">\n                    <template #content>\n                        <sw-field :label="$tc(\'moorl-form-builder.properties.action\')"\n                                  :placeholder="$tc(\'moorl-form-builder.placeholder.action\')"\n                                  :helpText="$tc(\'moorl-form-builder.tooltips.action\')"\n                                  v-model="form.action"></sw-field>\n\n                        <sw-field :label="$tc(\'moorl-form-builder.properties.name\')"\n                                  :required="true"\n                                  v-model="form.name"></sw-field>\n\n                        <sw-field :label="$tc(\'moorl-form-builder.properties.label\')"\n                                  v-model="form.label[locale.code]"></sw-field>\n\n                        <sw-select-field :label="$tc(\'moorl-form-builder.properties.type\')"\n                                         :helpText="$tc(\'moorl-form-builder.tooltips.type\')"\n                                         @change="configureDefaults"\n                                         v-model="form.type">\n                            <option value="cms">{{ $tc(\'moorl-form-builder.options.type.cms\') }}</option>\n                            <option value="snippet">{{ $tc(\'moorl-form-builder.options.type.snippet\') }}</option>\n                            <option value="customerAccountOverview">{{ $tc(\'moorl-form-builder.options.type.customerAccountOverview\') }}</option>\n                            <option value="customerAccountProfile">{{ $tc(\'moorl-form-builder.options.type.customerAccountProfile\') }}</option>\n                            <option value="customerAccountOrder">{{ $tc(\'moorl-form-builder.options.type.customerAccountOrder\') }}</option>\n                            <option value="customerAccountPaymentMethod">{{ $tc(\'moorl-form-builder.options.type.customerAccountPaymentMethod\') }}</option>\n                            <option value="checkoutFinish">{{ $tc(\'moorl-form-builder.options.type.checkoutFinish\') }}</option>\n                            <option value="customerRegister">{{ $tc(\'moorl-form-builder.options.type.customerRegister\') }}</option>\n                            <option value="cartLineItem">{{ $tc(\'moorl-form-builder.options.type.cartLineItem\') }}</option>\n                            <option value="productRequest">{{ $tc(\'moorl-form-builder.options.type.productRequest\') }}</option>\n                            <option value="orderRequest">{{ $tc(\'moorl-form-builder.options.type.orderRequest\') }}</option>\n                            <option value="cartExtend">{{ $tc(\'moorl-form-builder.options.type.cartExtend\') }}</option>\n                        </sw-select-field>\n\n                        <sw-field type="switch"\n                                  bordered\n                                  :label="$tc(\'moorl-form-builder.properties.active\')"\n                                  v-model="form.active"></sw-field>\n\n                        <sw-entity-single-select\n                                :label="$tc(\'moorl-form-builder.properties.salesChannel\')"\n                                entity="sales_channel"\n                                show-clearable-button\n                                v-model="form.salesChannelId">\n                        </sw-entity-single-select>\n\n                        <sw-field :label="$tc(\'moorl-form-builder.properties.successMessage\')"\n                                  :placeholder="$tc(\'moorl-form-builder.placeholder.successMessage\')"\n                                  :helpText="$tc(\'moorl-form-builder.tooltips.successMessage\')"\n                                  v-model="form.successMessage[locale.code]"></sw-field>\n\n                        <sw-field :label="$tc(\'moorl-form-builder.properties.submitText\')"\n                                  :placeholder="$tc(\'moorl-form-builder.placeholder.submitText\')"\n                                  :helpText="$tc(\'moorl-form-builder.tooltips.submitText\')"\n                                  v-model="form.submitText[locale.code]"></sw-field>\n\n                        <sw-field type="switch"\n                                  bordered\n                                  :label="$tc(\'moorl-form-builder.properties.useCaptcha\')"\n                                  v-model="form.useCaptcha"></sw-field>\n\n                        <sw-field type="switch"\n                                  bordered\n                                  :label="$tc(\'moorl-form-builder.properties.privacy\')"\n                                  v-model="form.privacy"></sw-field>\n                    </template>\n                </moorl-collapse>\n\n                <template v-if="[\'productRequest\',\'cartLineItem\', \'cartExtend\'].includes(form.type)">\n                    <moorl-collapse :label="$tc(\'moorl-form-builder.general.productRelations\')"\n                                    key="productRelations">\n                        <template #content>\n                            <sw-entity-multi-select\n                                    :label="$tc(\'moorl-form-builder.properties.productRelations\')"\n                                    :helpText="$tc(\'moorl-form-builder.tooltips.productRelations\')"\n                                    labelProperty="productNumber"\n                                    v-model="form.products"\n                                    :context="searchContext"\n                                    :criteria="searchCriteria">\n                                <template #result-item="{ item, index }">\n                                    <slot name="result-item" v-bind="{ item, index }">\n                                        <li is="sw-select-result" v-bind="{ item, index }">\n                                            <span class="sw-select-result__result-item-text">\n                                                <sw-product-variant-info :variations="item.variation">\n                                                    {{ item.productNumber }} - {{ item.translated.name || item.name }}\n                                                </sw-product-variant-info>\n                                            </span>\n                                        </li>\n                                    </slot>\n                                </template>\n                            </sw-entity-multi-select>\n                        </template>\n                    </moorl-collapse>\n                </template>\n\n                <moorl-collapse :label="$tc(\'moorl-form-builder.general.dataSettings\')"\n                                key="dataSettings">\n                    <template #content>\n                        <sw-field type="switch"\n                                  bordered\n                                  :label="$tc(\'moorl-form-builder.properties.insertHistory\')"\n                                  v-model="form.insertHistory"></sw-field>\n\n                        <sw-field type="switch"\n                                  bordered\n                                  @change="configureDefaults"\n                                  :helpText="$tc(\'moorl-form-builder.tooltips.insertDatabase\')"\n                                  :label="$tc(\'moorl-form-builder.properties.insertDatabase\')"\n                                  v-model="form.insertDatabase"></sw-field>\n\n                        <sw-single-select v-model="form.relatedEntity"\n                                          @change="configureDefaults"\n                                          show-clearable-button\n                                          valueProperty="name"\n                                          labelProperty="name"\n                                          :helpText="$tc(\'moorl-form-builder.tooltips.relatedEntity\')"\n                                          :options="getEntityOptions()"\n                                          :placeholder="$tc(\'sw-seo-url-template-card.general.placeholderSelectVariables\')"\n                                          :label="$tc(\'moorl-form-builder.properties.relatedEntity\')">\n                        </sw-single-select>\n\n                        <sw-select-field :label="$tc(\'moorl-form-builder.properties.maxFileSize\')"\n                                         :helpText="$tc(\'moorl-form-builder.tooltips.maxFileSize\')"\n                                         v-model="form.maxFileSize">\n                            <option value="10">10 MB</option>\n                            <option value="20">20 MB</option>\n                            <option value="30">20 MB</option>\n                            <option value="40">40 MB</option>\n                            <option value="50">50 MB</option>\n                            <option value="0">{{ $tc(\'moorl-form-builder.options.noLimit\') }}</option>\n                        </sw-select-field>\n\n                        <sw-entity-single-select\n                                :helpText="$tc(\'moorl-form-builder.tooltips.mediaFolder\')"\n                                :label="$tc(\'moorl-form-builder.properties.mediaFolder\')"\n                                entity="media_folder"\n                                v-model="form.mediaFolderId">\n                        </sw-entity-single-select>\n                    </template>\n                </moorl-collapse>\n\n                <moorl-collapse class="content--single"\n                                :label="$tc(\'moorl-form-builder.general.emailSettings\')"\n                                key="emailSettings">\n                    <template #content>\n                        <sw-field type="switch"\n                                  bordered\n                                  :label="$tc(\'moorl-form-builder.properties.sendMail\')"\n                                  v-model="form.sendMail"></sw-field>\n\n                        <template v-if="form.sendMail">\n                            <sw-field :helpText="$tc(\'moorl-form-builder.tooltips.emailReceiver\')"\n                                      :label="$tc(\'moorl-form-builder.properties.emailReceiver\')"\n                                      :placeholder="$tc(\'moorl-form-builder.placeholder.emailReceiver\')"\n                                      v-model="form.emailReceiver"></sw-field>\n\n                            <div class="link-field">\n                                <sw-entity-single-select\n                                        :label="$tc(\'moorl-form-builder.properties.mailTemplateId\')"\n                                        entity="mail_template"\n                                        :criteria="mailTemplateCriteria"\n                                        labelProperty="description"\n                                        v-model="form.mailTemplateId">\n                                </sw-entity-single-select>\n\n                                <router-link v-if="form.mailTemplateId" target="_blank" rel="noopener" :to="{ name: \'sw.mail.template.detail\', params: { id: form.mailTemplateId } }">\n                                    {{ $tc(\'sw-flow.modals.mail.fieldMailTemplateDetailLink\') }}\n                                </router-link>\n                            </div>\n\n                            <sw-select-field :label="$tc(\'moorl-form-builder.properties.sendCopyType\')"\n                                             v-model="form.sendCopyType">\n                                <option value="disabled">{{ $tc(\'moorl-form-builder.options.sendCopyType.disabled\') }}</option>\n                                <option value="always">{{ $tc(\'moorl-form-builder.options.sendCopyType.always\') }}</option>\n                                <option value="optionalChecked">{{ $tc(\'moorl-form-builder.options.sendCopyType.optionalChecked\') }}</option>\n                                <option value="optionalUnchecked">{{ $tc(\'moorl-form-builder.options.sendCopyType.optionalUnchecked\') }}</option>\n                            </sw-select-field>\n\n                            <template v-if="form.sendCopyType !== \'disabled\'">\n                                <div class="link-field">\n                                    <sw-entity-single-select\n                                            :label="$tc(\'moorl-form-builder.properties.customerMailTemplateId\')"\n                                            entity="mail_template"\n                                            :criteria="mailTemplateCriteria"\n                                            labelProperty="description"\n                                            v-model="form.customerMailTemplateId">\n                                    </sw-entity-single-select>\n\n                                    <router-link v-if="form.customerMailTemplateId" target="_blank" rel="noopener" :to="{ name: \'sw.mail.template.detail\', params: { id: form.customerMailTemplateId } }">\n                                        {{ $tc(\'sw-flow.modals.mail.fieldMailTemplateDetailLink\') }}\n                                    </router-link>\n                                </div>\n                            </template>\n                        </template>\n\n                        <sw-field type="switch"\n                                  bordered\n                                  :label="$tc(\'moorl-form-builder.properties.insertNewsletter\')"\n                                  v-model="form.insertNewsletter"></sw-field>\n                    </template>\n                </moorl-collapse>\n\n                <moorl-collapse class="content--single"\n                                :label="$tc(\'moorl-form-builder.general.redirectSettings\')"\n                                key="redirectSettings">\n                    <template #header-content>\n                        <sw-icon @click="newFormRedirectCondition()"\n                                 name="default-basic-plus-block" size="16px"></sw-icon>\n                    </template>\n\n                    <template #content>\n                        <sw-field :label="$tc(\'moorl-form-builder.properties.redirectTo\')"\n                                  :placeholder="\'frontend.detail.page\'"\n                                  :helpText="$tc(\'moorl-form-builder.tooltips.redirectTo\')"\n                                  v-model="form.redirectTo"></sw-field>\n\n                        <sw-field :label="$tc(\'moorl-form-builder.properties.redirectParams\')"\n                                  :placeholder="\'productId:1234;otherId:technicalName etc...\'"\n                                  :helpText="$tc(\'moorl-form-builder.tooltips.redirectParams\')"\n                                  v-model="form.redirectParams"></sw-field>\n\n                        <ul class="form-element-options">\n                            <li v-for="optionItem in form.redirectConditions">\n                                <div class="items-grid-conditions">\n                                    <sw-select-field v-model="optionItem.name">\n                                        <option v-for="name in getTechnicalNames()" :value="name">{{ name }}</option>\n                                    </sw-select-field>\n\n                                    <div class="items-options">\n                                        <span v-if="optionItem.name" @click="editFormElement(optionItem.name)">\n                                            <sw-icon name="default-action-settings" size="16px"></sw-icon>\n                                        </span>\n                                    </div>\n\n                                    <sw-select-field v-model="optionItem.type">\n                                        <option value="is">==</option>\n                                        <option value="not">!=</option>\n                                        <option value="lt">&lt;</option>\n                                        <option value="gt">&gt;</option>\n                                        <option value="contains">contains</option>\n                                        <option value="isset">is set</option>\n                                    </sw-select-field>\n\n                                    <sw-field :placeholder="$tc(\'moorl-form-builder.properties.value\')"\n                                              v-model="optionItem.value"></sw-field>\n\n                                    <div class="items-options">\n                                        <span @click="removeFormRedirectCondition(optionItem)">\n                                            <sw-icon name="default-action-trash" size="16px"></sw-icon>\n                                        </span>\n                                    </div>\n                                </div>\n                            </li>\n                        </ul>\n                    </template>\n                </moorl-collapse>\n\n                <moorl-collapse class="content--single"\n                                :label="$tc(\'moorl-form-builder.general.styleSettings\')"\n                                key="styleSettings">\n                    <template #content>\n                        <sw-field type="switch"\n                                  bordered\n                                  :helpText="$tc(\'moorl-form-builder.tooltips.bootstrapGrid\')"\n                                  :label="$tc(\'moorl-form-builder.properties.bootstrapGrid\')"\n                                  v-model="form.bootstrapGrid"></sw-field>\n\n                        <sw-field type="switch"\n                                  bordered\n                                  :helpText="$tc(\'moorl-form-builder.tooltips.bootstrapWideSpacing\')"\n                                  :label="$tc(\'moorl-form-builder.properties.bootstrapWideSpacing\')"\n                                  v-model="form.bootstrapWideSpacing"></sw-field>\n\n                        <sw-field type="switch"\n                                  bordered\n                                  :helpText="$tc(\'moorl-form-builder.tooltips.useSassCompiler\')"\n                                  :label="$tc(\'moorl-form-builder.properties.useSassCompiler\')"\n                                  v-model="form.useSassCompiler"></sw-field>\n\n                        <sw-code-editor :label="$tc(\'moorl-form-builder.properties.stylesheet\')"\n                                        :softWraps="false"\n                                        v-model="form.stylesheet">\n                        </sw-code-editor>\n                    </template>\n                </moorl-collapse>\n            {% endblock %}\n        </div>\n\n        <div class="moorl-form-builder-detail-items">\n            <ul class="form-elements">\n                <li class="items-options">\n                    <span v-if="getNestedFormData().length == 0">\n                        {{ $tc(\'moorl-form-builder.general.newElement\') }} &#8594;\n                    </span>\n                    <span @click="addFormElement">\n                        <sw-icon name="default-basic-plus-block" size="16px"></sw-icon>\n                    </span>\n                </li>\n                {% block form_elements %}\n                    <li class="items-grid"\n                        v-for="formElementItem in getNestedFormData()"\n                        :class="getFormElementItemClass(formElementItem.id)"\n                        :key="formElementItem.id"\n                        v-draggable="{ data: formElementItem }"\n                        v-droppable="{ data: formElementItem, onDrop: onFormElementDragSort }">\n                        <span @click="editFormElement(formElementItem)" :style="getFormElementCss(formElementItem)">\n                            <span v-if="formElementItem.nest < 0">&#9888;</span>\n                            <span v-else v-for="nest in formElementItem.nest">&#8677;</span>\n                            {{ $tc(\'moorl-form-builder.elementOptions.type.\' + formElementItem.type) }}: {{ formElementItem.name }}\n                            <span v-if="formElementItem.required">*</span>\n                        </span>\n                        <div>\n                            <span @click="duplicateFormElement(formElementItem)">\n                                 <sw-icon name="default-action-duplicate" size="16px"></sw-icon>\n                            </span>\n                            <span @click="removeFormElement(formElementItem)">\n                                <sw-icon name="default-action-trash" size="16px"></sw-icon>\n                            </span>\n                            <span @click="addFormElement">\n                                <sw-icon name="default-basic-plus-block" size="16px"></sw-icon>\n                            </span>\n                        </div>\n                    </li>\n                {% endblock %}\n            </ul>\n        </div>\n\n        <div class="moorl-form-builder-detail-item-settings">\n            <template v-if="formElement">\n                {% block form_element %}\n                    <moorl-form-element-settings v-bind="{ formElement }"/>\n\n                    \n\n                    <template v-if="formElement.type == \'html\'">\n                        <moorl-form-element-input-html v-bind="{ formElement, locale }"/>\n                    </template>\n\n                    <template v-else-if="formElement.type == \'repeater-open\'">\n                        <moorl-form-element-input-repeater-open v-bind="{ formElement, locale }"/>\n                    </template>\n\n                    <template v-else-if="formElement.type == \'section-open\'">\n                        <moorl-form-element-input-section-open v-bind="{ formElement, locale }"/>\n                    </template>\n\n                    <template v-else-if="[\'repeater-close\',\'section-close\'].includes(formElement.type)">\n                        <div class="sw-card">\n                            <sw-alert variant="warning">\n                                {{ $tc(\'moorl-form-builder.tooltips.repeaterClose\') }}\n                            </sw-alert>\n                        </div>\n                    </template>\n\n                    <template v-else>\n\n                        <moorl-form-element-input-default v-bind="{ formElement, locale }"/>\n\n                        <template v-if="formElement.type == \'upload\'">\n                            <moorl-form-element-upload-options v-bind="{ formElement, locale }"/>\n                        </template>\n\n                        <template v-if="form.insertDatabase || [\'customerRegister\',\'cartLineItem\',\'cartExtend\',\'productRequest\'].includes(form.type)">\n                            <moorl-form-element-entity-mapping\n                                    v-bind="{ formElement, options:getVariableOptions(form.relatedEntity), disabled:!form.relatedEntity }"\n                            />\n                        </template>\n\n                        <template v-if="[\'number\',\'range\',\'rating\'].includes(formElement.type)">\n                            <moorl-form-element-options-number v-bind="{ formElement, locale }"/>\n                        </template>\n\n                        <template v-if="[\'datepicker\',\'appointment\'].includes(formElement.type)">\n                            <moorl-form-element-options-date v-bind="{ formElement, locale }"/>\n                        </template>\n\n                        <template v-if="[\'text\'].includes(formElement.type)">\n                            <moorl-collapse :label="$tc(\'moorl-form-builder.general.autocompleteOptions\')"\n                                            key="autocompleteOptions">\n                                <template #content>\n                                    <sw-single-select v-model="formElement.autocomplete.relatedEntity"\n                                                      valueProperty="name"\n                                                      labelProperty="name"\n                                                      :options="getEntityOptions()"\n                                                      :placeholder="$tc(\'sw-seo-url-template-card.general.placeholderSelectVariables\')"\n                                                      :label="$tc(\'moorl-form-builder.properties.relatedEntity\')">\n                                    </sw-single-select>\n                                    <sw-single-select v-model="formElement.autocomplete.property"\n                                                      valueProperty="name"\n                                                      labelProperty="name"\n                                                      :options="getVariableOptions(formElement.autocomplete.relatedEntity)"\n                                                      :placeholder="$tc(\'sw-seo-url-template-card.general.placeholderSelectVariables\')"\n                                                      :disabled="formElement.autocomplete.relatedEntity === null"\n                                                      :label="$tc(\'sw-seo-url-template-card.general.labelPossibleValues\')">\n                                    </sw-single-select>\n                                </template>\n                            </moorl-collapse>\n                        </template>\n\n                        <template v-if="[\'select\',\'multiselect\',\'checkbox-group\',\'radio-group\',\'checkbox-button-group\',\'radio-button-group\'].includes(formElement.type)">\n                            <moorl-collapse class="content--single"\n                                            :label="$tc(\'moorl-form-builder.general.elementOptions\')"\n                                            key="elementOptions">\n                                <template #header-content>\n                                    <sw-icon v-if="!formElement.isEntitySelect"\n                                             small\n                                             @click="newFormElementOption()"\n                                             name="default-basic-plus-block"></sw-icon>\n                                </template>\n\n                                <template #content>\n                                    <sw-container columns="1fr 1fr" gap="0 10px">\n                                        <sw-field type="switch"\n                                                  :helpText="$tc(\'moorl-form-builder.tooltips.isEntitySelect\')"\n                                                  bordered\n                                                  :label="$tc(\'moorl-form-builder.properties.isEntitySelect\')"\n                                                  v-model="formElement.isEntitySelect"></sw-field>\n                                        <sw-field type="switch"\n                                                  :helpText="$tc(\'moorl-form-builder.tooltips.useImageSelection\')"\n                                                  bordered\n                                                  :label="$tc(\'moorl-form-builder.properties.useImageSelection\')"\n                                                  v-model="formElement.useImageSelection"></sw-field>\n                                    </sw-container>\n\n                                    <template v-if="formElement.isEntitySelect">\n                                        <sw-container columns="1fr 1fr" gap="0 10px">\n                                            <sw-single-select v-model="formElement.entitySelect.relatedEntity"\n                                                              valueProperty="name"\n                                                              labelProperty="name"\n                                                              :options="getEntityOptions()"\n                                                              :placeholder="$tc(\'sw-seo-url-template-card.general.placeholderSelectVariables\')"\n                                                              :label="$tc(\'moorl-form-builder.properties.relatedEntity\')">\n                                            </sw-single-select>\n                                            <sw-single-select v-model="formElement.entitySelect.valueProperty"\n                                                              valueProperty="name"\n                                                              labelProperty="name"\n                                                              :options="getVariableOptions(formElement.entitySelect.relatedEntity)"\n                                                              :placeholder="$tc(\'sw-seo-url-template-card.general.placeholderSelectVariables\')"\n                                                              :disabled="formElement.entitySelect.relatedEntity === null"\n                                                              :label="$tc(\'moorl-form-builder.properties.value\')">\n                                            </sw-single-select>\n                                            <sw-single-select v-model="formElement.entitySelect.labelProperty"\n                                                              valueProperty="name"\n                                                              labelProperty="name"\n                                                              :options="getVariableOptions(formElement.entitySelect.relatedEntity)"\n                                                              :placeholder="$tc(\'sw-seo-url-template-card.general.placeholderSelectVariables\')"\n                                                              :disabled="formElement.entitySelect.relatedEntity === null"\n                                                              :label="$tc(\'moorl-form-builder.properties.label\')">\n                                            </sw-single-select>\n                                            <sw-single-select v-if="formElement.useImageSelection"\n                                                              v-model="formElement.entitySelect.mediaProperty"\n                                                              valueProperty="name"\n                                                              labelProperty="name"\n                                                              :options="getVariableOptions(formElement.entitySelect.relatedEntity)"\n                                                              :placeholder="$tc(\'sw-seo-url-template-card.general.placeholderSelectVariables\')"\n                                                              :disabled="formElement.entitySelect.relatedEntity === null"\n                                                              :label="$tc(\'moorl-form-builder.properties.mediaId\')">\n                                            </sw-single-select>\n                                        </sw-container>\n                                    </template>\n\n                                    <template v-else>\n                                        <sw-container columns="1fr 1fr" gap="0 10px">\n                                            <sw-field type="switch"\n                                                      :helpText="$tc(\'moorl-form-builder.tooltips.hasEmailReceiver\')"\n                                                      bordered\n                                                      :label="$tc(\'moorl-form-builder.properties.hasEmailReceiver\')"\n                                                      v-model="formElement.hasEmailReceiver"></sw-field>\n                                            <sw-field type="switch"\n                                                      :helpText="$tc(\'moorl-form-builder.tooltips.useCustomFields\')"\n                                                      bordered\n                                                      :label="$tc(\'moorl-form-builder.properties.useCustomFields\')"\n                                                      v-model="formElement.useCustomFields"></sw-field>\n                                            <sw-field type="switch"\n                                                      :helpText="$tc(\'moorl-form-builder.tooltips.usePriceCalculation\')"\n                                                      bordered\n                                                      :label="$tc(\'moorl-form-builder.properties.usePriceCalculation\')"\n                                                      v-model="formElement.usePriceCalculation"></sw-field>\n                                        </sw-container>\n\n                                        <ul class="form-element-options">\n                                            <li v-for="optionItem in formElement.options">\n                                                <div class="items-grid-3">\n                                                    <sw-field :placeholder="$tc(\'moorl-form-builder.properties.value\')"\n                                                              v-model="optionItem.value"></sw-field>\n                                                    <sw-field :placeholder="$tc(\'moorl-form-builder.properties.label\')"\n                                                              v-model="optionItem.label[locale.code]"></sw-field>\n                                                    <sw-field type="switch"\n                                                              :helpText="$tc(\'moorl-form-builder.tooltips.isValid\')"\n                                                              bordered\n                                                              :label="$tc(\'moorl-form-builder.properties.isValid\')"\n                                                              v-model="optionItem.isValid"></sw-field>\n                                                    <div class="items-options">\n                                                        <sw-icon @click="removeFormElementOption(optionItem)"\n                                                                 name="default-action-trash"\n                                                                 size="16px"></sw-icon>\n                                                    </div>\n                                                </div>\n\n                                                <div v-if="formElement.useCustomFields" class="items-grid">\n                                                    <sw-field :label="$tc(\'moorl-form-builder.properties.customField\') + \' 1\'"\n                                                              v-model="optionItem.customField1[locale.code]"></sw-field>\n                                                    <sw-field :label="$tc(\'moorl-form-builder.properties.customField\') + \' 2\'"\n                                                              v-model="optionItem.customField2[locale.code]"></sw-field>\n                                                </div>\n\n                                                <div v-if="formElement.hasEmailReceiver" class="items-grid-1">\n                                                    <sw-field v-if="formElement.hasEmailReceiver"\n                                                              :helpText="$tc(\'moorl-form-builder.tooltips.emailReceiver\')"\n                                                              :label="$tc(\'moorl-form-builder.properties.emailReceiver\')"\n                                                              :placeholder="$tc(\'moorl-form-builder.placeholder.emailReceiver\')"\n                                                              v-model="optionItem.emailReceiver"></sw-field>\n                                                </div>\n\n                                                <div v-if="formElement.usePriceCalculation" class="items-grid">\n                                                    <sw-field type="number"\n                                                              numberType="float"\n                                                              :label="$tc(\'moorl-form-builder.properties.priceCalculation\')"\n                                                              v-model="optionItem.priceCalculation"></sw-field>\n                                                    <sw-select-field :label="$tc(\'moorl-form-builder.properties.type\')"\n                                                                     v-model="optionItem.priceCalculationType">\n                                                        <option value="absolute">{{ $tc(\'sw-promotion.detail.main.discounts.valueTypeAbsolute\') }}</option>\n                                                        <option value="percentage">{{ $tc(\'sw-promotion.detail.main.discounts.valueTypePercentage\') }}</option>\n                                                        <option value="fixed_unit" disabled>{{ $tc(\'sw-promotion.detail.main.discounts.valueTypeFixedUnit\') }}</option>\n                                                    </sw-select-field>\n                                                </div>\n\n                                                <div v-if="formElement.useImageSelection" class="items-grid-1">\n                                                    <sw-media-upload-v2 v-if="!isLoading"\n                                                                        :uploadTag="optionItem.id"\n                                                                        :source="optionItem.media"\n                                                                        :allowMultiSelect="false"\n                                                                        @media-drop="onDropMedia($event, optionItem)"\n                                                                        @media-upload-sidebar-open="openMediaSidebar"\n                                                                        @media-upload-remove-image="onUnlinkMedia(optionItem)">\n                                                    </sw-media-upload-v2>\n                                                </div>\n                                            </li>\n                                        </ul>\n                                    </template>\n                                </template>\n                            </moorl-collapse>\n                        </template>\n                    </template>\n\n                    <template v-if="form.bootstrapGrid">\n                        <moorl-collapse class="content--single"\n                                        :label="$tc(\'moorl-form-builder.general.elementWrapper\')"\n                                        key="elementWrapper">\n                            <template #content>\n                                <template v-if="![\'repeater-close\',\'section-close\'].includes(formElement.type)">\n                                    <ul class="form-element-options">\n                                        <li v-for="behaviour in defaultBehaviour">\n                                            <div class="items-grid-2">\n                                                <div class="items-badge">\n                                                    {{ behaviour.breakpoint }}\n                                                </div>\n\n                                                <sw-field type="switch"\n                                                          bordered\n                                                          :label="$tc(\'moorl-form-builder.properties.visible\')"\n                                                          v-model="formElement.behaviour[behaviour.breakpoint].visible"></sw-field>\n\n                                                <sw-select-field v-model="formElement.behaviour[behaviour.breakpoint].width">\n                                                    <option value disabled>{{ $tc(\'moorl-form-builder.properties.width\') }}</option>\n                                                    <option :value="-1">inherited</option>\n                                                    <option :value="0">auto</option>\n                                                    <option v-for="i in 12" :value="i">{{ i }}/12</option>\n                                                </sw-select-field>\n\n                                                <sw-select-field v-model="formElement.behaviour[behaviour.breakpoint].order">\n                                                    <option value disabled>{{ $tc(\'moorl-form-builder.properties.order\') }}</option>\n                                                    <option :value="0">auto</option>\n                                                    <option v-for="i in 24" :value="i">{{ i }}</option>\n                                                </sw-select-field>\n                                            </div>\n                                        </li>\n                                    </ul>\n                                </template>\n\n                                <template v-if="![\'repeater-open\',\'section-open\'].includes(formElement.type)">\n                                    <sw-field type="switch"\n                                              bordered\n                                              :label="$tc(\'moorl-form-builder.properties.lineBreak\')"\n                                              v-model="formElement.lineBreak">\n                                    </sw-field>\n                                </template>\n                            </template>\n                        </moorl-collapse>\n                    </template>\n\n                    <template v-else-if="![\'html\',\'repeater-open\',\'repeater-close\',\'section-open\',\'section-close\'].includes(formElement.type)">\n                        <moorl-collapse class="content--single"\n                                        :label="$tc(\'moorl-form-builder.general.elementWrapper\')"\n                                        key="elementWrapper">\n                            <template #content>\n                                <sw-code-editor :label="$tc(\'moorl-form-builder.properties.htmlWrapper\')"\n                                                v-model="formElement.htmlWrapper"\n                                                :softWraps="false">\n                                </sw-code-editor>\n                            </template>\n                        </moorl-collapse>\n                    </template>\n\n                    <template v-if="![\'html\',\'repeater-open\',\'repeater-close\',\'section-open\',\'section-close\'].includes(formElement.type)">\n                        <moorl-collapse class="content--single"\n                                        :label="$tc(\'moorl-form-builder.properties.useCustomTemplate\')"\n                                        key="useCustomTemplate">\n                            <template #content>\n                                <sw-field type="switch"\n                                          :helpText="$tc(\'moorl-form-builder.tooltips.useCustomTemplate\')"\n                                          bordered\n                                          :label="$tc(\'moorl-form-builder.properties.useCustomTemplate\')"\n                                          v-model="formElement.useCustomTemplate"></sw-field>\n                                <sw-field v-if="formElement.useCustomTemplate"\n                                          :label="$tc(\'moorl-form-builder.properties.customTemplatePath\')"\n                                          :placeholder="\'@SamplePlugin/my-custom-template.html.twig\'"\n                                          v-model="formElement.customTemplatePath"></sw-field>\n                                <sw-code-editor v-if="formElement.useCustomTemplate"\n                                                :label="$tc(\'moorl-form-builder.properties.customTemplate\')"\n                                                v-model="formElement.customTemplate"\n                                                :softWraps="false"></sw-code-editor>\n                            </template>\n                        </moorl-collapse>\n                    </template>\n\n                    <template v-if="![\'repeater-close\',\'section-close\'].includes(formElement.type)">\n                        <moorl-collapse class="content--single"\n                                        :label="$tc(\'moorl-form-builder.general.conditions\')"\n                                        key="conditions">\n                            <template #header-content>\n                                <sw-icon @click="newFormElementCondition()"\n                                         name="default-basic-plus-block" size="16px"></sw-icon>\n                            </template>\n\n                            <template #content>\n                                <sw-field type="switch"\n                                          bordered\n                                          :label="$tc(\'moorl-form-builder.properties.pseudo\')"\n                                          :helpText="$tc(\'moorl-form-builder.tooltips.pseudo\')"\n                                          v-model="formElement.pseudo"></sw-field>\n\n                                <ul class="form-element-options">\n                                    <li v-for="optionItem in formElement.conditions">\n                                        <div class="items-grid-conditions">\n                                            <sw-select-field v-model="optionItem.name">\n                                                <option v-for="name in getTechnicalNames()" :value="name">{{ name }}</option>\n                                            </sw-select-field>\n\n                                            <div class="items-options">\n                                        <span v-if="optionItem.name" @click="editFormElement(optionItem.name)">\n                                            <sw-icon name="default-action-settings" size="16px"></sw-icon>\n                                        </span>\n                                            </div>\n\n                                            <sw-select-field v-model="optionItem.type">\n                                                <option value="is">==</option>\n                                                <option value="not">!=</option>\n                                                <option value="lt">&lt;</option>\n                                                <option value="gt">&gt;</option>\n                                                <option value="contains">contains</option>\n                                                <option value="isset">is set</option>\n                                            </sw-select-field>\n\n                                            <sw-field :placeholder="$tc(\'moorl-form-builder.properties.value\')"\n                                                      v-model="optionItem.value"></sw-field>\n\n                                            <div class="items-options">\n                                        <span @click="removeFormElementCondition(optionItem)">\n                                            <sw-icon name="default-action-trash" size="16px"></sw-icon>\n                                        </span>\n                                            </div>\n                                        </div>\n                                    </li>\n                                </ul>\n                            </template>\n                        </moorl-collapse>\n                    </template>\n                {% endblock %}\n            </template>\n        </div>\n\n        <sw-confirm-modal v-if="showConfirmModal"\n                          type="delete"\n                          :text="$tc(\'moorl-form-builder.general.deleteElement\')"\n                          @confirm="onConfirmModal"\n                          @close="onCloseModal"\n                          @cancel="onCloseModal">\n        </sw-confirm-modal>\n    </template>\n\n    <template slot="sidebar">\n        <sw-sidebar :propagateWidth="true">\n            <sw-sidebar-media-item ref="mediaSidebarItem">\n                <template slot="context-menu-items" slot-scope="media">\n                    <sw-context-menu-item @click="setMediaFromSidebar(media.mediaItem)">\n                        {{ $tc(\'sw-settings-shipping.sidebar.labelUseAsLogo\') }}\n                    </sw-context-menu-item>\n                </template>\n            </sw-sidebar-media-item>\n        </sw-sidebar>\n    </template>\n</sw-page>\n',inject:["repositoryFactory","localeHelper"],mixins:[T.getByName("notification"),T.getByName("placeholder"),T.getByName("discard-detail-page-changes")("form")],shortcuts:{"SYSTEMKEY+S":"onSave",ESCAPE:"onAbortButtonClick"},metaInfo:function(){return{title:this.$createTitle()}},data:function(){return{form:null,formElement:null,isLoading:!0,processSuccess:!1,repository:null,searchTerm:"",mediaEntity:null,showPicker:!1,showUploadField:!1,suggestedItems:[],isLoadingSuggestions:!1,pickerClasses:{},uploadTagMedia:_.createId(),customFieldSets:[],manufacturers:null,manufacturerIds:[],selectedProperty:null,mediaFolders:null,locale:null,showConfirmModal:!1,onConfirm:null}},computed:k(k({},L(g)),{},{defaultCriteria:function(){var e=new M;return e.addAssociation("products.options.group"),e},searchCriteria:function(){var e=new M(1,30);return e.addAssociation("options.group"),e},searchContext:function(){return k(k({},Shopware.Context.api),{},{inheritance:!0})},mailTemplateCriteria:function(){var e=new M;return e.addAssociation("mailTemplateType"),e.addFilter(M.equals("mailTemplateType.technicalName","moorl_form_builder_cms")),e},formRepository:function(){return this.repositoryFactory.create("moorl_form")},mediaRepository:function(){return this.repositoryFactory.create("media")},customFieldRepository:function(){return this.repositoryFactory.create("custom_field_set")},languageRepository:function(){return this.repositoryFactory.create("language")},defaultBehaviour:function(){return[{icon:"default-device-mobile",breakpoint:"base"},{icon:"default-device-mobile",breakpoint:"sm"},{icon:"default-device-tablet",breakpoint:"md"},{icon:"default-device-tablet",breakpoint:"lg"},{icon:"default-device-desktop",breakpoint:"xl"}]}}),created:function(){this.onChangeLanguage(),this.getForm()},methods:{getFormElementCss:function(e){if(0!==e.conditions.length)return{"border-bottom":"1px dotted"}},getTechnicalNames:function(){return this.form.data.filter((function(e){var t=e.name;return!(!t||0===t.length)})).map((function(e){return e.name}))},getNestedFormData:function(){for(var e=0,t=0;t<this.form.data.length;t++)-1!==this.form.data[t].type.indexOf("close")&&e--,this.form.data[t].nest=Number(e),-1!==this.form.data[t].type.indexOf("open")&&e++;return this.form.data},getEmptyFormElement:function(){var e=_.createId();return{id:e,type:"text",value:"",name:e.substring(0,6),required:null,pseudo:null,html:"",label:{"en-GB":"","de-DE":""},prepend:{"en-GB":"","de-DE":""},append:{"en-GB":"","de-DE":""},placeholder:{"en-GB":"","de-DE":""},defaultValue:{"en-GB":"","de-DE":""},tooltip:{"en-GB":"","de-DE":""},numberMin:"0",numberMax:"100",numberStep:"0.1",dateMin:"+3 days",dateMax:"+6 months",dateStep:"1",dateExclude:[],gridSizeLg:"12",behaviour:{base:{visible:!0,width:12,order:0},sm:{visible:!0,width:-1,order:0},md:{visible:!0,width:-1,order:0},lg:{visible:!0,width:-1,order:0},xl:{visible:!0,width:-1,order:0}},cssClass:null,cssId:null,lineBreak:!0,htmlWrapper:'<div class="mb-2">{{ element }}</div>',hasEmailReceiver:null,useImageSelection:null,isEntitySelect:null,entitySelect:{relatedEntity:"country",labelProperty:"name",valueProperty:"id"},options:[{id:_.createId(),value:"option1",label:{"en-GB":"","de-DE":""},useTrans:null,emailReceiver:null,mediaId:null,customField1:{"en-GB":"","de-DE":""},customField2:{"en-GB":"","de-DE":""},customField3:{"en-GB":"","de-DE":""}},{id:_.createId(),value:"option2",label:{"en-GB":"","de-DE":""},useTrans:!0,emailReceiver:null,mediaId:null,customField1:{"en-GB":"","de-DE":""},customField2:{"en-GB":"","de-DE":""},customField3:{"en-GB":"","de-DE":""}}],mapping:null,autocomplete:{relatedEntity:null,property:null},conditions:[],mediaFileExtensions:"zip,rar,psd,docx"}},loadCustomFieldSets:function(){var e=this;if(this.form&&this.form.relatedEntity){var t=new M(1,100);t.addFilter(M.equals("relations.entityName",this.form.relatedEntity)),t.addAssociation("customFields").addSorting(M.sort("config.customFieldPosition","ASC",!0)),this.customFieldRepository.search(t,Shopware.Context.api).then((function(t){e.customFieldSets=t,e.isLoading=!1}))}else this.isLoading=!1},getForm:function(){var e=this;this.formElement=null,this.form=null,this.formRepository.get(this.$route.params.id,this.searchContext,this.defaultCriteria).then((function(t){t=e.sanitizeForm(t),e.form=t,e.loadCustomFieldSets()}))},sanitizeTechnicalName:function(e){return e?e.replace(/[^\w+]/gi,""):e},sanitizeForm:function(e){return"string"!=typeof e.type&&(e.type="cms",e.name="New Form"),Array.isArray(e.redirectConditions)||(e.redirectConditions=[]),e.action=this.sanitizeTechnicalName(e.action),e.label=this.sanitizeLocalValue(e.label),e.submitText=this.sanitizeLocalValue(e.submitText),e.successMessage=this.sanitizeLocalValue(e.successMessage),e.data=this.sanitizeFormData(e.data),e},sanitizeLocalValue:function(e){return Array.isArray(e)?e=Object.assign({"en-GB":"","de-DE":""}):"object"==C(e)&&e||(e=Object.assign({"en-GB":e,"de-DE":e})),e},sanitizeBehaviour:function(e){var t=e.behaviour,o=e.gridSizeLg;return"object"==C(t)&&t?t:{base:{visible:!0,width:0,order:0},sm:{visible:!0,width:0,order:0},md:{visible:!0,width:0,order:0},lg:{visible:!0,width:parseInt(o),order:0},xl:{visible:!0,width:parseInt(o),order:0}}},placeLocalValue:function(e,t,o){return void 0===e[t]||null==e[t]||!e[t].length||void 0!==e[o]&&e[o].length||(e[o]=e[t]),e},sanitizeFormData:function(e){if(!e||0===Object.keys(e).length)return[];var t=this,o=[];return e.forEach((function(e){e.name=t.sanitizeTechnicalName(e.name),e.label=t.sanitizeLocalValue(e.label),e.prepend=t.sanitizeLocalValue(e.prepend),e.append=t.sanitizeLocalValue(e.append),e.placeholder=t.sanitizeLocalValue(e.placeholder),e.defaultValue=t.sanitizeLocalValue(e.defaultValue),e.tooltip=t.sanitizeLocalValue(e.tooltip),e.behaviour=t.sanitizeBehaviour(e),e.options.forEach((function(e){e.value=t.sanitizeTechnicalName(e.value),e.label=t.sanitizeLocalValue(e.label),e.customField1=t.sanitizeLocalValue(e.customField1),e.customField2=t.sanitizeLocalValue(e.customField2),e.customField3=t.sanitizeLocalValue(e.customField3)})),o.push(Object.assign({},t.getEmptyFormElement(),e))})),o},prepareSave:function(){this.form.maxFileSize=parseInt(this.form.maxFileSize)},onClickSave:function(){var e=this;this.prepareSave(),this.isLoading=!0,this.formRepository.save(this.form,Shopware.Context.api).then((function(){e.getForm(),e.processSuccess=!0})).catch((function(t){e.isLoading=!1,e.createNotificationError({title:e.$t("moorl-form-builder.detail.errorTitle"),message:t})}))},saveFinish:function(){this.processSuccess=!1},addFormElement:function(){this.formElement=null;var e=this.getEmptyFormElement();this.form.data.push(e),this.editFormElement(e)},editFormElement:function(e){this.formElement="string"==typeof e?this.form.data.find((function(t){return t.name===e})):e,this.$forceUpdate()},removeFormElement:function(e){var t=this;this.onConfirm=function(){t.formElement&&t.formElement.id===e.id&&(t.formElement=null),t.form.data=t.form.data.filter((function(t){return t.id!==e.id})),t.$forceUpdate()},this.openConfirmModal()},openConfirmModal:function(){this.showConfirmModal=!0},onConfirmModal:function(){this.onConfirm(),this.onConfirm=null,this.onCloseModal()},onCloseModal:function(){this.showConfirmModal=!1},duplicateFormElement:function(e){var t=this.form.data.findIndex((function(t){return t.id===e.id}))+1,o=JSON.parse(JSON.stringify(e));o.id=_.createId(),o.name=o.id.substring(0,6),this.form.data.splice(t,0,o),this.editFormElement(o)},getFormElementItemClass:function(e){return this.formElement&&e==this.formElement.id?"active":""},onFormElementDragSort:function(e,t){var o=this.form.data.filter((function(t){return t.id!==e.id})),r=this.form.data.findIndex((function(e){return e.id===t.id})),n=[].concat($(o.slice(0,r)),[e],$(o.slice(r)));this.form.data=n,this.$forceUpdate()},newFormElementOption:function(){this.formElement.options.push({id:_.createId(),value:"option_x",label:{},useTrans:null})},removeFormElementOption:function(e){this.formElement.options.length>1?this.formElement.options=this.formElement.options.filter((function(t){return t.id!==e.id})):console.log("You need atleast one option.")},newFormElementCondition:function(){this.formElement.conditions.push({id:_.createId(),active:null,value:"value",name:"name",type:"is"})},removeFormElementCondition:function(e){0!==this.formElement.conditions.length&&(this.formElement.conditions=this.formElement.conditions.filter((function(t){return t.id!==e.id})))},newFormRedirectCondition:function(){this.form.redirectConditions.push({id:_.createId(),active:null,value:"value",name:"name",type:"is"})},removeFormRedirectCondition:function(e){0!==this.form.redirectConditions.length&&(this.form.redirectConditions=this.form.redirectConditions.filter((function(t){return t.id!==e.id})))},configureDefaults:function(){-1!==["customerAccountOverview","customerAccountProfile","customerAccountOrder","customerAccountPaymentMethod"].indexOf(this.form.type)?(this.form.insertDatabase=!0,this.form.relatedEntity="customer"):-1!==["cartLineItem"].indexOf(this.form.type)?(this.form.insertDatabase=!1,this.form.relatedEntity="order_line_item"):-1!==["productRequest"].indexOf(this.form.type)?(this.form.insertDatabase=!1,this.form.relatedEntity="product"):-1!==["cartExtend"].indexOf(this.form.type)?(this.form.insertDatabase=!1,this.form.relatedEntity="order"):-1!==["customerRegister"].indexOf(this.form.type)&&(this.form.insertDatabase=!1,this.form.relatedEntity="customer")},getEntityOptions:function(){var e=[{name:""}];return Shopware.EntityDefinition.getDefinitionRegistry().forEach((function(t,o,r){e.push({name:"".concat(o)})})),e},getVariableOptions:function(e){var t=this,o=[{name:"",type:null}];if(e){var r=Shopware.EntityDefinition.get(e).properties;Object.entries(r).forEach((function(e){var r=y(e,2),n=r[0],l=r[1];-1!==["uuid","text","string","json_object","date","boolean","int"].indexOf(l.type)&&("customFields"===n?(console.log("entity has customFields"),t.customFieldSets.forEach((function(e){e.customFields.forEach((function(e){o.push({name:"".concat(n,".").concat(e.name),type:"".concat(e.type)})}))}))):o.push({name:"".concat(n),type:"".concat(l.type)}))}))}return o},onChangeLanguage:function(){var e=this,t=this.locale?this.locale.code:null,o=new M;o.addAssociation("locale"),this.languageRepository.get(Shopware.Context.api.languageId,Shopware.Context.api,o).then((function(o){e.locale=o.locale,e.form&&(e.form=e.localeFormData(e.form,t))}))},localeFormData:function(e,t){var o=this;if(!e)return[];if(!t)return e;var r=this.locale.code;if(e.label=o.placeLocalValue(e.label,t,r),e.submitText=o.placeLocalValue(e.submitText,t,r),e.successMessage=o.placeLocalValue(e.successMessage,t,r),!e.data||0===Object.keys(e.data).length)return e;var n=[];return e.data.forEach((function(e){e.label=o.placeLocalValue(e.label,t,r),e.prepend=o.placeLocalValue(e.prepend,t,r),e.append=o.placeLocalValue(e.append,t,r),e.placeholder=o.placeLocalValue(e.placeholder,t,r),e.defaultValue=o.placeLocalValue(e.defaultValue,t,r),e.tooltip=o.placeLocalValue(e.tooltip,t,r),e.options.forEach((function(e){e.label=o.placeLocalValue(e.label,t,r),e.customField1=o.placeLocalValue(e.customField1,t,r),e.customField2=o.placeLocalValue(e.customField2,t,r),e.customField3=o.placeLocalValue(e.customField3,t,r)})),n.push(Object.assign({},e))})),e.data=n,e},openMediaSidebar:function(){this.$refs.mediaSidebarItem.openContent()},setMediaItem:function(e,t){var o=this,r=e.targetId;console.log("setMediaItem"),console.log(r),console.log(t),this.mediaRepository.get(r,Shopware.Context.api).then((function(e){t&&e.id&&(t.mediaId=r,t.media=e),o.$forceUpdate()}))},onDropMedia:function(e,t){console.log("onDropMedia"),console.log(e),console.log(t),this.setMediaItem({targetId:e.id},t)},setMediaFromSidebar:function(e,t){console.log("setMediaFromSidebar"),console.log(e),console.log(t),t&&e.id&&(t.media=e,t.mediaId=e.id)},onUnlinkMedia:function(e){console.log("onUnlinkMedia"),e&&(e.media=null,e.mediaId=null)}}});o("c9CT");Shopware.Module.register("moorl-form-builder",{type:"plugin",name:"moorl-form-builder",title:"moorl-form-builder.general.mainMenuItemGeneral",color:"#ffcab1",icon:"default-object-books-books-a",routes:{list:{component:"moorl-form-builder-list",path:"list",meta:{privilege:"moorl_form:read"}},detail:{component:"moorl-form-builder-detail",path:"detail/:id",meta:{parentPath:"moorl.form.builder.list",privilege:"moorl_form:read"}},create:{component:"moorl-form-builder-create",path:"create",meta:{parentPath:"moorl.form.builder.list",privilege:"moorl_form:read"}}},navigation:[{label:"moorl-form-builder.general.mainMenuItemGeneral",color:"#ffcab1",path:"moorl.form.builder.list",position:300,parent:"sw-content"}]});function D(e,t,o,r,n,l,i){try{var a=e[l](i),s=a.value}catch(e){return void o(e)}a.done?t(s):Promise.resolve(s).then(r,n)}var R=Shopware,j=R.Component,P=R.Mixin,B=Shopware.Data.Criteria;j.register("moorl-form-builder-history-list",{template:'<sw-page class="moorl-form-builder-history-list">\n    <template slot="content">\n        <sw-entity-listing\n                v-if="items"\n                :items="items"\n                :repository="repository"\n                :showSelection="true"\n                :columns="columns"\n                :isLoading="isLoading"\n                detailRoute="moorl.form.builder.history.detail"\n                @select-item="updateSelection"\n                @update-records="updateTotal">\n            <template #column-form.type="{ item }">\n                <router-link v-if="item.form" :to="{ name: \'moorl.form.builder.detail\', params: { id: item.formId } }">\n                    {{ $tc(\'moorl-form-builder.options.type.\' + item.form.type) }}\n                </router-link>\n            </template>\n\n            <template #column-form.name="{ item }">\n                <router-link v-if="item.form" :to="{ name: \'moorl.form.builder.detail\', params: { id: item.formId } }">\n                    {{ item.form.name }}\n                </router-link>\n            </template>\n\n            <template #detail-action="{ item }">\n                <sw-context-menu-item\n                        @click="showDetails(item)">\n                    {{ $tc(\'moorl-form-builder.buttons.showDetails\') }}\n                </sw-context-menu-item>\n            </template>\n        </sw-entity-listing>\n\n        <sw-modal v-if="showModal"\n                  @modal-close="onCloseModal"\n                  :title="$t(\'moorl-form-builder.general.detailView\')"\n                  variant="default">\n            <h3>User values</h3>\n            <pre>{{ formDetails.data }}</pre>\n\n            <h3>Media uploads</h3>\n            <pre>{{ formDetails.media }}</pre>\n\n            <h3>Request</h3>\n            <pre>{{ formDetails.requestData }}</pre>\n\n            <template #modal-footer>\n                <sw-button @click="onCloseModal" size="small">\n                    {{ $tc(\'moorl-form-builder.buttons.cancelButtonText\') }}\n                </sw-button>\n            </template>\n        </sw-modal>\n    </template>\n</sw-page>\n',inject:["repositoryFactory","numberRangeService"],mixins:[P.getByName("notification"),P.getByName("listing"),P.getByName("placeholder")],data:function(){return{detailRoute:"moorl.form.builder.history.detail",items:null,locale:null,naturalSorting:!0,showDeleteModal:!1,filterLoading:!1,filterCriteria:[],form:null,formDetails:null,sortBy:"createdAt",sortDirection:"DESC",showImportModal:!1,isLoading:!0,selectedFile:null,isImporting:!1,showModal:null}},metaInfo:function(){return{title:this.$createTitle()}},computed:{repository:function(){return this.repositoryFactory.create("moorl_form_history")},mediaRepository:function(){return this.repositoryFactory.create("media")},columns:function(){return[{property:"createdAt",dataIndex:"createdAt",label:this.$t("moorl-form-builder.properties.createdAt"),primary:!0},{property:"form.name",dataIndex:"name",label:this.$t("moorl-form-builder.properties.name")},{property:"form.type",dataIndex:"type",label:this.$t("moorl-form-builder.properties.type")},{property:"form.action",dataIndex:"action",label:this.$t("moorl-form-builder.properties.action")},{property:"salesChannel.name",dataIndex:"name",label:this.$t("moorl-form-builder.properties.salesChannel")},{property:"email",dataIndex:"email",label:this.$t("moorl-form-builder.properties.emailReceiver")}]},defaultCriteria:function(){var e=this,t=new B(this.page,this.limit);return this.naturalSorting="name"===this.sortBy,t.setTerm(this.term),this.sortBy.split(",").forEach((function(o){t.addSorting(B.sort(o,e.sortDirection,e.naturalSorting))})),this.filterCriteria.forEach((function(e){t.addFilter(e)})),t}},created:function(){},methods:{getList:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,t.repository.search(t.defaultCriteria,Shopware.Context.api);case 4:o=e.sent,t.total=o.total,t.tax=o,t.isLoading=!1,t.items=o,t.selection={},e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t.isLoading=!1;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})),function(){var t=this,o=arguments;return new Promise((function(r,n){var l=e.apply(t,o);function i(e){D(l,r,n,i,a,"next",e)}function a(e){D(l,r,n,i,a,"throw",e)}i(void 0)}))})()},showDetails:function(e){this.showModal=!0,this.formDetails=e},onCloseModal:function(){this.showModal=null,this.formDetails=null},updateSelection:function(){},updateTotal:function(e){var t=e.total;this.total=t}}}),Shopware.Module.register("moorl-form-builder-history",{type:"plugin",name:"moorl-form-builder-history",title:"moorl-form-builder.general.mainMenuItemHistory",color:"#ffcab1",icon:"default-object-books-books-a",routes:{list:{component:"moorl-form-builder-history-list",path:"list",meta:{privilege:"moorl_form_history:read",parentPath:"sw.settings.index"}}},settingsItem:[{privilege:"moorl_form_history:read",name:"moorl-form-builder-history-list",to:"moorl.form.builder.history.list",group:"plugins",icon:"default-object-globe",label:"moorl-form-builder.general.mainMenuItemHistory"}]});o("wezL");Shopware.Component.register("sw-cms-block-moorl-form-builder",{template:'<div class="sw-cms-block-moorl-form-builder">\n    <slot name="one"></slot>\n</div>\n\n'});o("tzYx");Shopware.Component.register("sw-cms-preview-moorl-form-builder",{template:'<div class="sw-cms-preview-form">\n    <h4 class="sw-cms-preview-form-headline">Form Builder</h4>\n    <div class="sw-cms-preview-form-inputs">\n        <div class="sw-cms-preview-form-input"></div>\n        <div class="sw-cms-preview-form-input"></div>\n    </div>\n    <div class="sw-cms-preview-form-input"></div>\n    <div class="sw-cms-preview-form-inputs__action">{{ $tc(\'sw-cms.elements.form.preview.label.send\') }}</div>\n</div>\n'}),Shopware.Service("cmsService").registerCmsBlock({name:"moorl-form-builder",label:"moorl-cms.blocks.general.moorlFormBuilder.label",category:"form",component:"sw-cms-block-moorl-form-builder",previewComponent:"sw-cms-preview-moorl-form-builder",defaultConfig:{marginBottom:"20px",marginTop:"20px",marginLeft:"20px",marginRight:"20px",sizingMode:"boxed"},slots:{one:{type:"moorl-form-builder"}}});var z=Shopware,A=z.Component,N=z.Mixin;A.register("sw-cms-el-moorl-form-builder",{template:'<div class="sw-cms-el-moorl-default">\n    <template v-if="form">\n        <div>\n            {{ $t(\'moorl-form-builder.general.mainMenuItemGeneral\') }}\n        </div>\n\n        <div class="small">\n            {{ form.name }}\n        </div>\n\n        <router-link class="sw-button"\n                     target="_blank"\n                     rel="noopener"\n                     :to="{ name: \'moorl.form.builder.detail\', params: { id: form.id } }">\n            {{ $tc(\'moorl-form-builder.buttons.edit\') }}\n        </router-link>\n    </template>\n\n    <template v-else>\n        <div>\n            {{ $t(\'moorl-form-builder.general.mainMenuItemGeneral\') }}\n        </div>\n\n        <div class="small">\n            {{ $t(\'moorl-form-builder.general.notConfigured\') }}\n        </div>\n\n        <router-link class="sw-button"\n                     target="_blank"\n                     rel="noopener"\n                     :to="{ name: \'moorl.form.builder.create\' }">\n            {{ $tc(\'moorl-form-builder.buttons.new\') }}\n        </router-link>\n    </template>\n</div>\n',mixins:[N.getByName("cms-element")],computed:{form:function(){return this.element.data&&this.element.data.form?this.element.data.form:null}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.initElementConfig("moorl-form-builder"),this.initElementData("moorl-form-builder")}}});o("sH4W");var V=Shopware,q=V.Component,U=V.Mixin,G=Shopware.Data.Criteria;q.register("sw-cms-el-config-moorl-form-builder",{template:'<div class="sw-cms-el-config-moorl-form-builder">\n    <sw-entity-single-select\n        :label="$tc(\'moorl-cms.elements.general.config.label.moorlFormId\')"\n        v-model="element.config.form.value"\n        labelProperty="name"\n        @change="onChangeForm"\n        :criteria="defaultCriteria"\n        entity="moorl_form">\n    </sw-entity-single-select>\n</div>\n',mixins:[U.getByName("cms-element")],inject:["repositoryFactory"],computed:{defaultCriteria:function(){var e=new G;return e.addFilter(G.equals("type","cms")),e.addFilter(G.equals("active",!0)),e},formRepository:function(){return this.repositoryFactory.create("moorl_form")}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.initElementConfig("moorl-form-builder"),this.initElementData("moorl-form-builder")},onChangeForm:function(e){var t=this;if(e){var o=new G;this.formRepository.get(e,Shopware.Context.api,o).then((function(o){t.element.config.form.value=e,t.$set(t.element.data,"form",o)}))}else this.element.config.form.value=null,this.$set(this.element.data,"form",null);this.$emit("element-update",this.element)}}});o("0e/N");Shopware.Component.register("sw-cms-el-preview-moorl-form-builder",{template:'<div class="sw-cms-el-preview-form">\n    <h4 class="sw-cms-el--preview-form-headline">Form Builder</h4>\n    <div class="sw-cms-el-preview-form-inputs">\n        <div class="sw-cms-el-preview-form-input"></div>\n        <div class="sw-cms-el-preview-form-input"></div>\n    </div>\n    <div class="sw-cms-el-preview-form-input"></div>\n    <div class="sw-cms-el-preview-form-inputs__action">{{ $tc(\'sw-cms.elements.form.preview.label.send\') }}</div>\n</div>\n'});var W=Shopware.Application,H=new(0,Shopware.Data.Criteria);W.getContainer("service").cmsService.registerCmsElement({plugin:"MoorlFormBuilder",icon:"default-communication-envelope",name:"moorl-form-builder",label:"moorl-cms.blocks.general.moorlFormBuilder.label",component:"sw-cms-el-moorl-form-builder",configComponent:"sw-cms-el-config-moorl-form-builder",previewComponent:"sw-cms-el-preview-moorl-form-builder",defaultConfig:{form:{source:"static",value:null,entity:{name:"moorl_form",criteria:H}},emailReceiver:{source:"static",value:null}}});Shopware.Component.override("sw-product-detail",{template:"{% block sw_product_detail_content_tabs_additional %}\n    {% parent %}\n\n    <sw-tabs-item v-if=\"product\"\n                  :route=\"{ name: 'sw.product.detail.fb' }\">\n        {{ $tc('moorl-form-builder.general.mainMenuItemGeneral') }}\n    </sw-tabs-item>\n{% endblock %}\n",computed:{productCriteria:function(){var e=this.$super("productCriteria");return e.addAssociation("forms"),e}}});function Y(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function Z(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(o),!0).forEach((function(t){J(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Y(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function J(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var Q=Shopware,K=Q.Component,X=Q.Mixin,ee=Shopware.Data.Criteria,te=Shopware.Component.getComponentHelper().mapState;K.register("sw-product-detail-fb",{template:'<div v-if="product.extensions" class="sw-product-detail-base">\r\n    <sw-card :title="$tc(\'moorl-form-builder.general.mainMenuItemGeneral\')"\r\n             :isLoading="isLoading">\r\n        <sw-entity-many-to-many-select\r\n                v-if="!isLoading"\r\n                :localMode="true"\r\n                :label="$tc(\'moorl-form-builder.properties.assignedForms\')"\r\n                v-model="product.extensions.forms"\r\n                labelProperty="name"\r\n                :criteria="formCriteria">\r\n        </sw-entity-many-to-many-select>\r\n    </sw-card>\r\n\r\n    <sw-card :isLoading="isLoading"\r\n             :title="$tc(\'moorl-form-builder.general.appointments\')"\r\n             class="moorl-entity-grid">\r\n        <moorl-form-builder-appointment :productId="product.id"/>\r\n    </sw-card>\r\n</div>\r\n',inject:["repositoryFactory","context"],props:{product:{type:Object,required:!0}},mixins:[X.getByName("notification"),X.getByName("placeholder")],data:function(){return{isLoading:!1}},computed:Z(Z({},te("swProductDetail",["product"])),{},{productRepository:function(){return this.repositoryFactory.create("product")},product:function(){var e=Shopware.State.get("swProductDetail").product;return e},formCriteria:function(){var e=new ee;return e.addFilter(ee.equalsAny("type",["cartLineItem","productRequest","cartExtend"])),e}}),methods:{saveProduct:function(){this.product&&this.productRepository.save(this.product,Shopware.Context.api)}}}),Shopware.Module.register("sw-product-detail-fb-tab",{routeMiddleware:function(e,t){"sw.product.detail"===t.name&&t.children.push({name:"sw.product.detail.fb",path:"/sw/product/detail/:id/fb",component:"sw-product-detail-fb",meta:{parentPath:"sw.product.index"}}),e(t)}});Shopware.Component.override("sw-settings-captcha-select-v2",{template:"{% block sw_settings_captcha_select_v2_multi_select %}\r\n    {% parent %}\r\n{% endblock %}\r\n"});Shopware.Component.override("sw-dashboard-index",{template:'{% block sw_dashboard_index_content_info_grid %}\r\n    {% parent %}\r\n\r\n    <div class="sw-dashboard-index__card-headline">\r\n        <h1>{{ $tc(\'sw-dashboard.appointments.headline\') }}</h1>\r\n\r\n        <span class="sw-dashboard-index__card-headline-timerange">\r\n            {{ $tc(\'sw-dashboard.appointments.description\') }}\r\n        </span>\r\n    </div>\r\n\r\n    <sw-card position-identifier="moorl-form-builder-appointment">\r\n        <template slot="grid">\r\n            <moorl-form-builder-appointment/>\r\n        </template>\r\n    </sw-card>\r\n\r\n    <moorl-fb2-hint/>\r\n{% endblock %}\r\n'})},Qstz:function(e,t,o){var r=o("tUsx");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,o("SZ7m").default)("12b1064c",r,!0,{})},SZ7m:function(e,t,o){"use strict";function r(e,t){for(var o=[],r={},n=0;n<t.length;n++){var l=t[n],i=l[0],a={id:e+":"+n,css:l[1],media:l[2],sourceMap:l[3]};r[i]?r[i].parts.push(a):o.push(r[i]={id:i,parts:[a]})}return o}o.r(t),o.d(t,"default",(function(){return f}));var n="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l={},i=n&&(document.head||document.getElementsByTagName("head")[0]),a=null,s=0,m=!1,c=function(){},d=null,p="data-vue-ssr-id",u="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(e,t,o,n){m=o,d=n||{};var i=r(e,t);return b(i),function(t){for(var o=[],n=0;n<i.length;n++){var a=i[n];(s=l[a.id]).refs--,o.push(s)}t?b(i=r(e,t)):i=[];for(n=0;n<o.length;n++){var s;if(0===(s=o[n]).refs){for(var m=0;m<s.parts.length;m++)s.parts[m]();delete l[s.id]}}}}function b(e){for(var t=0;t<e.length;t++){var o=e[t],r=l[o.id];if(r){r.refs++;for(var n=0;n<r.parts.length;n++)r.parts[n](o.parts[n]);for(;n<o.parts.length;n++)r.parts.push(v(o.parts[n]));r.parts.length>o.parts.length&&(r.parts.length=o.parts.length)}else{var i=[];for(n=0;n<o.parts.length;n++)i.push(v(o.parts[n]));l[o.id]={id:o.id,refs:1,parts:i}}}}function h(){var e=document.createElement("style");return e.type="text/css",i.appendChild(e),e}function v(e){var t,o,r=document.querySelector("style["+p+'~="'+e.id+'"]');if(r){if(m)return c;r.parentNode.removeChild(r)}if(u){var n=s++;r=a||(a=h()),t=y.bind(null,r,n,!1),o=y.bind(null,r,n,!0)}else r=h(),t=$.bind(null,r),o=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else o()}}var w,g=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function y(e,t,o,r){var n=o?"":r.css;if(e.styleSheet)e.styleSheet.cssText=g(t,n);else{var l=document.createTextNode(n),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(l,i[t]):e.appendChild(l)}}function $(e,t){var o=t.css,r=t.media,n=t.sourceMap;if(r&&e.setAttribute("media",r),d.ssrId&&e.setAttribute(p,t.id),n&&(o+="\n/*# sourceURL="+n.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}},c9CT:function(e,t){Shopware.Component.extend("moorl-form-builder-create","moorl-form-builder-detail",{methods:{getForm:function(){var e=this.formRepository.create(Shopware.Context.api);this.$route.params&&Object.assign(e,this.$route.params),this.form=this.sanitizeForm(e),this.form.bootstrapGrid=!0,this.loadCustomFieldSets()},onClickSave:function(){var e=this;this.prepareSave(),this.isLoading=!0,this.formRepository.save(this.form,Shopware.Context.api).then((function(){e.isLoading=!1,e.$router.push({name:"moorl.form.builder.detail",params:{id:e.form.id}})})).catch((function(t){e.isLoading=!1,e.createNotificationError({title:e.$t("moorl-form-builder.detail.errorTitle"),message:t})}))}}})},djj4:function(e,t,o){},"eB/Y":function(e,t,o){},rvsF:function(e,t,o){},sH4W:function(e,t,o){var r=o("rvsF");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,o("SZ7m").default)("782b72ab",r,!0,{})},sSkC:function(e,t,o){var r=o("6m5T");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,o("SZ7m").default)("420a12af",r,!0,{})},tUsx:function(e,t,o){},tzYx:function(e,t,o){var r=o("eB/Y");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,o("SZ7m").default)("fcbff260",r,!0,{})},wezL:function(e,t,o){var r=o("6D8g");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,o("SZ7m").default)("3ae7318a",r,!0,{})},xUFS:function(e){e.exports=JSON.parse('{"moorl.form.builder.detail":{"form":["name","label"]}}')}});