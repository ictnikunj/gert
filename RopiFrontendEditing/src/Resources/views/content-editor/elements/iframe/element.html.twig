{% block element %}

{% if data.configuration.aspectRatio.x > 0 and data.configuration.aspectRatio.y > 0 %}
    {% set paddingBottom = (100 / data.configuration.aspectRatio.x * data.configuration.aspectRatio.y) %}
{% else %}
    {% set paddingBottom = '0' %}
{% endif %}

<div
    {% sw_include '@RopiFrontendEditing/content-editor/elements/common/editor-attributes.html.twig' %}
        class="{% block element_class %}
                    ropi-frontend-editing-content-element-iframe
                    {% if paddingBottom %}
                        {% sw_include '@RopiFrontendEditing/content-editor/elements/common/general-classes.html.twig' %}
                    {% else %}
                        ropi-frontend-editing-flex
                        {% sw_include '@RopiFrontendEditing/content-editor/elements/common/general-classes.html.twig' with { defaultDisplay: 'flex' } %}
                    {% endif %}
                   {% endblock %}"
        style="{% block element_style %}{% endblock %}">
    {% block element_inner %}
        <div class="ropi-frontend-editing-content-element-iframe__wrap
                        {% if paddingBottom %}ropi-frontend-editing-aspect-ratio{% else %}ropi-frontend-editing-flex{% endif %}"
             style="{% block wrap_style %}
                           {% if paddingBottom %}padding-bottom: {{ paddingBottom }}%;{% endif %}
                           {% if data.configuration.minHeight > 0 %}min-height: {{ data.configuration.minHeight }}px;{% endif %}
                        {% endblock %}">

            {% if data.configuration.url|trim %}
                {% block iframe %}
                    <iframe
                        class="ropi-frontend-editing-content-element-iframe__iframe
                               flex-grow-1
                               {% if paddingBottom %}ropi-frontend-editing-aspect-ratio__element{% endif %}"
                        width="100%"
                        src="{{ data.configuration.url }}"
                        frameborder="0"
                        allowfullscreen>
                    </iframe>
                {% endblock %}
            {% else %}
                {% if ropiFrontendEditingEditorOpened %}
                    <div class="ropi-content-editor-empty-state"
                         style="{% if paddingBottom %}position: absolute;{% endif %}">
                        <div>
                            <h1>{% trans %}ropi-frontend-editing.contentElement.definition.element.iframe{% endtrans %}</h1>
                            {% trans %}ropi-frontend-editing.contentElement.element.noUrlDefined{% endtrans %}
                        </div>
                    </div>
                {% endif %}
            {% endif %}
            {% if ropiFrontendEditingEditorOpened %}
                <div class="ropi-content-editor-click-layer"></div>
            {% endif %}

        </div>
    {% endblock %}
</div>
{% endblock %}